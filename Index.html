<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEURAL_ARCHITECT_PREMIORBIT++++ v25.0 - –°–ü–ê–°–Å–ù–ù–´–ô –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–´–ô –ò–ù–°–¢–†–£–ú–ï–ù–¢</title>
    <style>
        :root {
            /* –°–≤–µ—Ç–ª–æ-—Å–µ—Ä–∞—è –ø–∞–ª–∏—Ç—Ä–∞ —Å –∞–∫—Ü–µ–Ω—Ç–∞–º–∏ */
            --bg-primary: #0a0a1a;
            --bg-secondary: #121220;
            --bg-tertiary: #1a1a2e;
            --bg-card: rgba(10, 15, 30, 0.9);
            --bg-card-hover: rgba(20, 25, 45, 0.95);
            --accent-primary: #00f0ff; /* –ù–µ–æ–Ω–æ–≤—ã–π –≥–æ–ª—É–±–æ–π */
            --accent-secondary: #00c8ff; /* –ë–æ–ª–µ–µ —Ç—ë–º–Ω—ã–π –≥–æ–ª—É–±–æ–π */
            --accent-tertiary: #00b0ff; /* –ì–æ–ª—É–±–æ–π –¥–ª—è –∞–∫—Ü–µ–Ω—Ç–æ–≤ */
            --accent-positive: #00ffaa; /* –ó–µ–ª—ë–Ω—ã–π —É—Å–ø–µ—Ö */
            --accent-negative: #ff4444; /* –ö—Ä–∞—Å–Ω—ã–π –æ—à–∏–±–∫–∞ */
            --accent-warning: #ffcc00; /* –ñ—ë–ª—Ç—ã–π –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ */
            --text-primary: #ffffff; /* –ë–µ–ª—ã–π */
            --text-secondary: #cccccc; /* –°–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π */
            --text-muted: #999999; /* –ü—Ä–∏–≥–ª—É—à—ë–Ω–Ω—ã–π —Å–µ—Ä—ã–π */
            --border: rgba(0, 240, 255, 0.2); /* –ù–µ–æ–Ω–æ–≤–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ */
            --hover: rgba(0, 240, 255, 0.1); /* –õ—ë–≥–∫–∏–π –Ω–µ–æ–Ω –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
            --selected: rgba(0, 240, 255, 0.2); /* –í—ã–¥–µ–ª–µ–Ω–∏–µ */
            --neuron-node: #00b0ff; /* –¶–≤–µ—Ç —É–∑–ª–∞ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ */
            --neuron-connection: rgba(0, 240, 255, 0.3); /* –¶–≤–µ—Ç —Å–≤—è–∑–∏ */
            --neuron-active: #00ffaa; /* –¶–≤–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —É–∑–ª–∞ */
            --glow-primary: 0 0 15px rgba(0, 240, 255, 0.5); /* –°–≤–µ—á–µ–Ω–∏–µ –∞–∫—Ü–µ–Ω—Ç–∞ */
            --glow-secondary: 0 0 10px rgba(0, 200, 255, 0.4); /* –°–≤–µ—á–µ–Ω–∏–µ —Ñ–∏–æ–ª–µ—Ç–∞ */
            --transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            --transition-fast: all 0.2s ease-out;
            --transition-slow: all 0.6s ease-in-out;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            overflow-x: hidden;
            background-image:
                radial-gradient(ellipse at 10% 20%, rgba(0, 240, 255, 0.05) 0%, transparent 20%),
                radial-gradient(ellipse at 90% 80%, rgba(0, 200, 255, 0.05) 0%, transparent 20%),
                linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-tertiary) 100%);
            background-size: cover;
            background-attachment: fixed;
            position: relative;
            min-height: 100vh;
            line-height: 1.6;
        }
        /* –ö–æ–Ω—Ç–µ–∏–Ω–µ—Ä –¥–ª—è –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ */
        #neural-network-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
            opacity: 0.6;
        }
        canvas {
            display: block;
            width: 100%;
            height: 100%;
        }
        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
        .container {
            display: flex;
            min-height: 100vh;
            padding: 1.5rem;
            gap: 1.5rem;
            max-width: 1600px;
            margin: 0 auto;
        }
        /* –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å */
        .sidebar {
            width: 300px;
            background: var(--bg-card);
            padding: 1.75rem;
            border-radius: 16px;
            display: flex;
            flex-direction: column;
            backdrop-filter: blur(12px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3), var(--glow-primary);
            border: 1px solid var(--border);
            transition: box-shadow 0.3s ease;
        }
        .sidebar:hover {
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4), var(--glow-primary), var(--glow-secondary);
        }
        .header {
            text-align: center;
            margin-bottom: 1.75rem;
        }
        .header h1 {
            font-size: 1.6rem;
            margin-bottom: 0.3rem;
            color: var(--accent-primary);
            text-shadow: var(--glow-primary);
            letter-spacing: 0.5px;
        }
        .header p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        .author {
            color: var(--accent-tertiary);
            font-style: italic;
            font-size: 0.85rem;
            opacity: 0.8;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.1rem;
            margin-bottom: 1.75rem;
        }
        .stat-card {
            background: var(--bg-secondary);
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
            border: 1px solid var(--border);
            transition: all 0.2s ease;
        }
        .stat-card:hover {
            background: var(--bg-card-hover);
            transform: translateY(-2px);
        }
        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent-primary);
            margin-bottom: 0.25rem;
        }
        .stat-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: var(--accent-positive);
            margin-right: 0.5rem;
            animation: pulse 2s infinite;
            box-shadow: var(--glow-primary);
        }
        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(1.1); }
            100% { opacity: 1; transform: scale(1); }
        }
        .btn {
            padding: 0.8rem 1.1rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            margin-bottom: 0.7rem;
            text-align: center;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.6rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .btn-primary { background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(0, 240, 255, 0.4), var(--glow-primary); }
        .btn-primary:active { transform: translateY(0); box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); }
        .btn-secondary { background: var(--bg-secondary); color: var(--text-primary); border: 1px solid var(--border); }
        .btn-secondary:hover { background: var(--hover); box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); }
        .btn-success { background: linear-gradient(135deg, var(--accent-positive), #00ff88); color: white; }
        .btn-success:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(0, 255, 170, 0.3); }
        .btn-warning { background: linear-gradient(135deg, var(--accent-warning), #ffbb00); color: white; }
        .btn-warning:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(255, 204, 0, 0.3); }
        .btn-danger { background: linear-gradient(135deg, var(--accent-negative), #ff6666); color: white; }
        .btn-danger:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(255, 68, 68, 0.3); }
        .input-group {
            margin-bottom: 1.2rem;
        }
        .input-group label {
            display: block;
            margin-bottom: 0.6rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
            font-weight: 500;
        }
        .input-group input, .input-group select {
            width: 100%;
            padding: 0.85rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 0.95rem;
            transition: all 0.3s ease;
        }
        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 3px rgba(0, 240, 255, 0.2), var(--glow-primary);
        }
        /* –û—Å–Ω–æ–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        .card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 1.75rem;
            backdrop-filter: blur(12px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2), var(--glow-primary);
            border: 1px solid var(--border);
            transition: box-shadow 0.3s ease;
        }
        .card:hover {
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3), var(--glow-primary), var(--glow-secondary);
        }
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.2rem;
        }
        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--accent-primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .help-icon {
            background: var(--bg-tertiary);
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: help;
            font-size: 1rem;
            border: 1px solid var(--border);
            transition: all 0.2s ease;
        }
        .help-icon:hover {
            background: var(--hover);
            color: var(--accent-primary);
            transform: scale(1.1);
            box-shadow: var(--glow-primary);
        }
        /* –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã */
        .progress-bar {
            width: 100%;
            height: 12px;
            background-color: var(--bg-tertiary);
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 1.2rem;
            box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.2);
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-warning), var(--accent-positive));
            width: 0%;
            transition: width 0.8s cubic-bezier(0.42, 0, 0.58, 1);
            border-radius: 6px;
        }
        .power-meter, .expertise-meter {
            width: 100%;
            height: 8px;
            background-color: var(--bg-tertiary);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 0.7rem;
            box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.2);
        }
        .power-fill, .expertise-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            width: 0%;
            transition: width 0.8s cubic-bezier(0.42, 0, 0.58, 1);
            border-radius: 4px;
        }
        .expertise-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-align: right;
            font-weight: 500;
        }
        /* –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ */
        .category-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 0.7rem;
            margin-bottom: 1.2rem;
            padding: 0.5rem;
            background: var(--bg-secondary);
            border-radius: 10px;
            border: 1px solid var(--border);
        }
        .category-btn {
            padding: 0.6rem 1rem;
            background: var(--bg-tertiary);
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s ease;
            border: 1px solid transparent;
            font-weight: 500;
        }
        .category-btn:hover {
            background: var(--hover);
            transform: translateY(-1px);
        }
        .category-btn.active {
            background: var(--selected);
            color: var(--accent-primary);
            border-color: var(--accent-primary);
            box-shadow: var(--glow-primary);
        }
        /* –≠–ª–µ–º–µ–Ω—Ç—ã –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤/–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ */
        .protocol-item, .tool-item, .kernel-item, .hypervisor-item, .supervisor-item, .meta-item, .program-item {
            background: var(--bg-secondary);
            padding: 1.1rem;
            border-radius: 10px;
            margin-bottom: 0.9rem;
            border: 1px solid var(--border);
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            display: flex;
            align-items: flex-start;
            gap: 0.85rem;
        }
        .protocol-item:hover, .tool-item:hover, .kernel-item:hover, .hypervisor-item:hover, .supervisor-item:hover, .meta-item:hover, .program-item:hover {
            background: var(--bg-card-hover);
            border-color: var(--accent-primary);
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        .protocol-item.selected, .tool-item.selected, .kernel-item.selected, .hypervisor-item.selected, .supervisor-item.selected, .meta-item.selected, .program-item.selected {
            background: var(--selected);
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 2px var(--accent-primary), var(--glow-primary);
        }
        .item-toggle {
            font-size: 1.4rem;
            line-height: 1;
            transition: var(--transition-fast);
        }
        .protocol-item.selected .item-toggle, .tool-item.selected .item-toggle, .kernel-item.selected .item-toggle, .hypervisor-item.selected .item-toggle, .supervisor-item.selected .item-toggle, .meta-item.selected .item-toggle, .program-item.selected .item-toggle {
            transform: scale(1.2);
            color: var(--accent-positive);
        }
        .item-content {
            flex: 1;
        }
        .item-name {
            font-weight: 600;
            color: var(--accent-primary);
            margin-bottom: 0.3rem;
            font-size: 1rem;
        }
        .item-desc {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.4;
        }
        .info-icon {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: var(--bg-tertiary);
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            border: 1px solid var(--border);
            cursor: help;
            transition: all 0.2s ease;
        }
        .info-icon:hover {
            background: var(--hover);
            color: var(--accent-primary);
            transform: scale(1.2);
            box-shadow: var(--glow-primary);
        }
        /* –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ–º—Ç–∞ */
        .prompt-preview {
            width: 100%;
            min-height: 220px;
            max-height: 40vh;
            padding: 1.2rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 10px;
            color: var(--text-primary);
            font-family: 'JetBrains Mono', 'Consolas', 'Courier New', monospace;
            white-space: pre-wrap;
            overflow-y: auto;
            resize: vertical;
            font-size: 0.95rem;
            line-height: 1.5;
            transition: border-color 0.3s ease;
        }
        .prompt-preview:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 2px rgba(0, 240, 255, 0.2);
        }
        .token-counter {
            margin-top: 0.85rem;
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-align: right;
            font-weight: 500;
        }
        /* –ö–Ω–æ–ø–∫–∏ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è */
        .encoding-controls {
            display: flex;
            gap: 0.7rem;
            margin-top: 1.1rem;
            flex-wrap: wrap;
        }
        /* –ö–Ω–æ–ø–∫–∏ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–æ–≤ */
        .messenger-controls {
            display: flex;
            gap: 0.7rem;
            margin-top: 1.1rem;
        }
        .messenger-btn {
            flex: 1;
            padding: 0.8rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.6rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .messenger-btn-whatsapp { background: linear-gradient(135deg, #25D366, #128C7E); color: white; }
        .messenger-btn-whatsapp:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(37, 211, 102, 0.4); }
        .messenger-btn-telegram { background: linear-gradient(135deg, #0088cc, #006699); color: white; }
        .messenger-btn-telegram:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(0, 136, 204, 0.4); }
        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            z-index: 3000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }
        .modal-content {
            background: var(--bg-card);
            padding: 2.2rem;
            border-radius: 16px;
            width: 85%;
            max-width: 750px;
            border: 1px solid var(--border);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5), var(--glow-primary);
            max-height: 85vh;
            overflow-y: auto;
            animation: modalAppear 0.6s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        @keyframes modalAppear {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.7rem;
        }
        .modal-title {
            font-size: 1.4rem;
            color: var(--accent-primary);
            font-weight: 600;
        }
        .close-modal {
            background: var(--bg-tertiary);
            border: none;
            color: var(--text-primary);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }
        .close-modal:hover {
            background: var(--hover);
            color: var(--accent-primary);
            transform: scale(1.1);
        }
        .template-manager {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }
        .template-item {
            padding: 1.2rem;
            background: var(--bg-secondary);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid var(--border);
        }
        .template-item:hover {
            background: var(--bg-card-hover);
            border-color: var(--accent-primary);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        .template-item h4 {
            color: var(--accent-primary);
            margin-bottom: 0.4rem;
            font-size: 1.1rem;
        }
        .template-item p {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }
        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 1.1rem 1.6rem;
            background: linear-gradient(135deg, var(--accent-positive), #34d399);
            color: white;
            border-radius: 10px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2), var(--glow-primary);
            z-index: 3001;
            display: none;
            min-width: 280px;
            font-weight: 500;
        }
        .notification.show {
            display: block;
            animation: fadeInOut 3.2s ease;
        }
        @keyframes fadeInOut {
            0% { opacity: 0; right: 0; transform: translateX(100%); }
            10% { opacity: 1; right: 20px; transform: translateX(0); }
            90% { opacity: 1; right: 20px; transform: translateX(0); }
            100% { opacity: 0; right: 0; transform: translateX(100%); }
        }
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                padding: 1rem;
            }
            .sidebar {
                width: 100%;
                margin-bottom: 1.2rem;
            }
            .stats-grid {
                grid-template-columns: 1fr;
            }
            .messenger-controls {
                flex-direction: column;
            }
            .modal-content {
                width: 95%;
                padding: 1.5rem;
            }
        }
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü */
        .page {
            display: none;
            width: 100%;
            height: 100%;
        }
        .page.active {
            display: block;
        }
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }
        .page-title {
            font-size: 1.5rem;
            color: var(--accent-primary);
        }
        .nav-buttons {
            display: flex;
            gap: 0.5rem;
        }
        .nav-btn {
            padding: 0.5rem 1rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
        }
        .nav-btn:hover:not(.disabled) {
            background: var(--hover);
        }
        .nav-btn.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .page-content {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
        }
        .page-section {
            flex: 1;
            min-width: 300px;
        }
        .page-footer {
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: center;
            gap: 1rem;
        }
        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
        .scrollable-container {
            max-height: 300px;
            overflow-y: auto;
            padding: 0.5rem;
            border: 1px solid var(--border);
            border-radius: 10px;
            background: var(--bg-secondary);
        }
        .scrollable-container::-webkit-scrollbar {
            width: 8px;
        }
        .scrollable-container::-webkit-scrollbar-track {
            background: var(--bg-secondary);
            border-radius: 10px;
        }
        .scrollable-container::-webkit-scrollbar-thumb {
            background: var(--accent-primary);
            border-radius: 10px;
        }
        .scrollable-container::-webkit-scrollbar-thumb:hover {
            background: var(--accent-secondary);
        }
    </style>
</head>
<body>
    <!-- –ö–æ–Ω—Ç–µ–∏–Ω–µ—Ä –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ -->
    <div id="neural-network-container">
        <canvas id="neuralCanvas"></canvas>
    </div>
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <div class="container">
        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <div class="sidebar">
            <div class="header">
                <h1>NEURAL_ARCHITECT v25.0</h1>
                <p>–°–ü–ê–°–Å–ù–ù–´–ô –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç</p>
                <div class="author">–ê–≤—Ç–æ—Ä: –°–º–æ–ª—è–Ω–∏–Ω–æ–≤ –ê.–í.</div>
            </div>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="active-count">0</div>
                    <div class="stat-label">–ê–ö–¢–ò–í–ù–û</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="power-level">0%</div>
                    <div class="stat-label">–ú–û–©–ù–û–°–¢–¨</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value"><span class="status-indicator"></span><span id="status-text">–ì–û–¢–û–í</span></div>
                    <div class="stat-label">–°–¢–ê–¢–£–°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="expertise-level">0%</div>
                    <div class="stat-label">–≠–ö–°–ü–ï–†–¢–ò–ó–ê</div>
                </div>
            </div>
            <button class="btn btn-primary" id="auto-select-btn">ü§ñ –ê–≤—Ç–æ–ø–æ–¥–±–æ—Ä –¥–ª—è –ù–æ–≤–∏—á–∫–∞</button>
            <button class="btn btn-secondary" id="preset-novice-btn">–ü—Ä–µ—Å–µ—Ç: –ù–æ–≤–∏—á–æ–∫</button>
            <button class="btn btn-secondary" id="preset-intermediate-btn">–ü—Ä–µ—Å–µ—Ç: –°—Ä–µ–¥–Ω–∏–π</button>
            <button class="btn btn-secondary" id="preset-expert-btn">–ü—Ä–µ—Å–µ—Ç: –≠–∫—Å–ø–µ—Ä—Ç</button>
            <button class="btn btn-danger" id="reset-btn">‚ùå –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ</button>
            <div class="input-group">
                <label for="search-input">üîç –ü–æ–∏—Å–∫ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤/–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:</label>
                <input type="text" id="search-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ...">
            </div>
            <!-- –ú–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã -->
            <div class="input-group">
                <label for="meta-instrument">üß† –ú–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:</label>
                <select id="meta-instrument">
                    <option value="none">–í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç</option>
                    <option value="hypervisor">–ì–∏–ø–µ—Ä–≤–∏–∑–æ—Ä (–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è)</option>
                    <option value="core">–Ø–¥—Ä–æ (–ê–Ω–∞–ª–∏–∑)</option>
                    <option value="synthesis">–°–∏–Ω—Ç–µ–∑ (–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)</option>
                    <option value="optimizer">–û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä (–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)</option>
                </select>
            </div>
            <button class="btn btn-warning" id="apply-meta-btn">–ü—Ä–∏–º–µ–Ω–∏—Ç—å –ú–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç</button>
        </div>
        <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ -->
        <div class="main-content">
            <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ 1: –í—ã–±–æ—Ä –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ -->
            <div id="page-protocols" class="page active">
                <div class="page-header">
                    <div class="page-title">üìù –®–∞–≥ 1: –í—ã–±–æ—Ä –ü—Ä–æ—Ç–æ–∫–æ–ª–æ–≤</div>
                    <div class="nav-buttons">
                        <button class="nav-btn disabled" id="nav-prev-protocols">‚Üê –ù–∞–∑–∞–¥</button>
                        <button class="nav-btn" id="nav-next-protocols">–î–∞–ª–µ–µ ‚Üí</button>
                    </div>
                </div>
                <div class="page-content">
                    <div class="page-section">
                        <div class="card">
                            <div class="section-header">
                                <div class="section-title">–ü—Ä–æ—Ç–æ–∫–æ–ª—ã</div>
                                <div class="help-icon" id="protocols-help">?</div>
                            </div>
                            <div class="category-selector" id="protocols-category-selector">
                                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã JS -->
                            </div>
                            <div class="scrollable-container" id="protocols-container">
                                <!-- –ü—Ä–æ—Ç–æ–∫–æ–ª—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã JS -->
                            </div>
                        </div>
                    </div>
                    <div class="page-section">
                        <div class="card">
                            <div class="section-header">
                                <div class="section-title">–Ø–¥—Ä–∞ –∏ –ì–∏–ø–µ—Ä–≤–∞–π–∑–µ—Ä—ã</div>
                            </div>
                            <div class="category-selector" id="kernels-category-selector">
                                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã JS -->
                            </div>
                            <div class="scrollable-container" id="kernels-container">
                                <!-- –Ø–¥—Ä–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã JS -->
                            </div>
                            <div class="category-selector" id="hypervisors-category-selector">
                                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã JS -->
                            </div>
                            <div class="scrollable-container" id="hypervisors-container">
                                <!-- –ì–∏–ø–µ—Ä–≤–∞–π–∑–µ—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã JS -->
                            </div>
                        </div>
                    </div>
                    <div class="page-section">
                        <div class="card">
                            <div class="section-header">
                                <div class="section-title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="progress-fill"></div>
                            </div>
                            <div class="power-meter">
                                <div class="power-fill" id="power-meter"></div>
                            </div>
                            <div class="expertise-meter">
                                <div class="expertise-fill" id="expertise-meter"></div>
                            </div>
                            <div class="expertise-label" id="expertise-label">–£—Ä–æ–≤–µ–Ω—å: –ù–æ–≤–∏—á–æ–∫ (0%)</div>
                        </div>
                    </div>
                </div>
                <div class="page-footer">
                    <button class="btn btn-secondary disabled" id="footer-prev-protocols">‚Üê –ù–∞–∑–∞–¥</button>
                    <button class="btn btn-primary" id="footer-next-protocols">–î–∞–ª–µ–µ ‚Üí</button>
                </div>
            </div>
            <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ 2: –í—ã–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ -->
            <div id="page-tools" class="page">
                <div class="page-header">
                    <div class="page-title">üõ† –®–∞–≥ 2: –í—ã–±–æ—Ä –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤</div>
                    <div class="nav-buttons">
                        <button class="nav-btn" id="nav-prev-tools">‚Üê –ù–∞–∑–∞–¥</button>
                        <button class="nav-btn" id="nav-next-tools">–î–∞–ª–µ–µ ‚Üí</button>
                    </div>
                </div>
                <div class="page-content">
                    <div class="page-section">
                        <div class="card">
                            <div class="section-header">
                                <div class="section-title">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</div>
                                <div class="help-icon" id="tools-help">?</div>
                            </div>
                            <div class="category-selector" id="tools-category-selector">
                                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã JS -->
                            </div>
                            <div class="scrollable-container" id="tools-container">
                                <!-- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã JS -->
                            </div>
                        </div>
                    </div>
                    <div class="page-section">
                        <div class="card">
                            <div class="section-header">
                                <div class="section-title">–°—É–ø–µ—Ä–≤–∞–π–∑–µ—Ä—ã –∏ –ú–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</div>
                            </div>
                            <div class="category-selector" id="supervisors-category-selector">
                                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã JS -->
                            </div>
                            <div class="scrollable-container" id="supervisors-container">
                                <!-- –°—É–ø–µ—Ä–≤–∞–π–∑–µ—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã JS -->
                            </div>
                            <div class="category-selector" id="meta-category-selector">
                                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã JS -->
                            </div>
                            <div class="scrollable-container" id="meta-container">
                                <!-- –ú–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã JS -->
                            </div>
                        </div>
                    </div>
                    <div class="page-section">
                        <div class="card">
                            <div class="section-header">
                                <div class="section-title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="progress-fill-tools"></div>
                            </div>
                            <div class="power-meter">
                                <div class="power-fill" id="power-meter-tools"></div>
                            </div>
                            <div class="expertise-meter">
                                <div class="expertise-fill" id="expertise-meter-tools"></div>
                            </div>
                            <div class="expertise-label" id="expertise-label-tools">–£—Ä–æ–≤–µ–Ω—å: –ù–æ–≤–∏—á–æ–∫ (0%)</div>
                        </div>
                    </div>
                </div>
                <div class="page-footer">
                    <button class="btn btn-secondary" id="footer-prev-tools">‚Üê –ù–∞–∑–∞–¥</button>
                    <button class="btn btn-primary" id="footer-next-tools">–î–∞–ª–µ–µ ‚Üí</button>
                </div>
            </div>
            <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ 3: –í—ã–±–æ—Ä –≥–æ—Ç–æ–≤—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º -->
            <div id="page-programs" class="page">
                <div class="page-header">
                    <div class="page-title">üìã –®–∞–≥ 3: –í—ã–±–æ—Ä –ì–æ—Ç–æ–≤—ã—Ö –ü—Ä–æ–≥—Ä–∞–º–º</div>
                    <div class="nav-buttons">
                        <button class="nav-btn" id="nav-prev-programs">‚Üê –ù–∞–∑–∞–¥</button>
                        <button class="nav-btn" id="nav-next-programs">–î–∞–ª–µ–µ ‚Üí</button>
                    </div>
                </div>
                <div class="page-content">
                    <div class="page-section">
                        <div class="card">
                            <div class="section-header">
                                <div class="section-title">–ì–æ—Ç–æ–≤—ã–µ –ü—Ä–æ–≥—Ä–∞–º–º—ã</div>
                                <div class="help-icon" id="programs-help">?</div>
                            </div>
                            <div class="category-selector" id="programs-category-selector">
                                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã JS -->
                            </div>
                            <div class="scrollable-container" id="programs-container">
                                <!-- –ü—Ä–æ–≥—Ä–∞–º–º—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã JS -->
                            </div>
                        </div>
                    </div>
                    <div class="page-section">
                        <div class="card">
                            <div class="section-header">
                                <div class="section-title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="progress-fill-programs"></div>
                            </div>
                            <div class="power-meter">
                                <div class="power-fill" id="power-meter-programs"></div>
                            </div>
                            <div class="expertise-meter">
                                <div class="expertise-fill" id="expertise-meter-programs"></div>
                            </div>
                            <div class="expertise-label" id="expertise-label-programs">–£—Ä–æ–≤–µ–Ω—å: –ù–æ–≤–∏—á–æ–∫ (0%)</div>
                        </div>
                    </div>
                </div>
                <div class="page-footer">
                    <button class="btn btn-secondary" id="footer-prev-programs">‚Üê –ù–∞–∑–∞–¥</button>
                    <button class="btn btn-primary" id="footer-next-programs">–î–∞–ª–µ–µ ‚Üí</button>
                </div>
            </div>
            <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ 4: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º—Ç–∞ -->
            <div id="page-prompt" class="page">
                <div class="page-header">
                    <div class="page-title">üìù –®–∞–≥ 4: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ü—Ä–æ–º—Ç–∞</div>
                    <div class="nav-buttons">
                        <button class="nav-btn" id="nav-prev-prompt">‚Üê –ù–∞–∑–∞–¥</button>
                        <button class="nav-btn disabled" id="nav-next-prompt">–î–∞–ª–µ–µ ‚Üí</button>
                    </div>
                </div>
                <div class="page-content">
                    <div class="page-section">
                        <div class="card">
                            <div class="section-header">
                                <div class="section-title">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ü—Ä–æ–º—Ç</div>
                                <div class="help-icon" id="prompt-help">?</div>
                            </div>
                            <pre class="prompt-preview" id="prompt-preview">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, —è–¥—Ä–∞, –≥–∏–ø–µ—Ä–≤–∞–π–∑–µ—Ä—ã, —Å—É–ø–µ—Ä–≤–∞–π–∑–µ—Ä—ã, –º–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –≥–æ—Ç–æ–≤—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–º—Ç–∞...</pre>
                            <div class="token-counter">–¢–æ–∫–µ–Ω—ã: <span id="token-count">0</span> | –°–∏–º–≤–æ–ª—ã: <span id="char-count">0</span></div>
                            <div class="encoding-controls">
                                <button class="btn btn-success" id="copy-btn">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                                <button class="btn btn-warning" id="encode-btn">Encode Base64</button>
                                <button class="btn btn-warning" id="decode-btn">Decode Base64</button>
                            </div>
                            <div class="messenger-controls">
                                <button class="messenger-btn messenger-btn-whatsapp" id="send-whatsapp-btn">
                                    üí¨ WhatsApp
                                </button>
                                <button class="messenger-btn messenger-btn-telegram" id="send-telegram-btn">
                                    üì± Telegram
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="page-section">
                        <div class="card">
                            <div class="section-header">
                                <div class="section-title">–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ</div>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="progress-fill-final"></div>
                            </div>
                            <div class="power-meter">
                                <div class="power-fill" id="power-meter-final"></div>
                            </div>
                            <div class="expertise-meter">
                                <div class="expertise-fill" id="expertise-meter-final"></div>
                            </div>
                            <div class="expertise-label" id="expertise-label-final">–£—Ä–æ–≤–µ–Ω—å: –ù–æ–≤–∏—á–æ–∫ (0%)</div>
                            <div class="input-group">
                                <label for="author-name">‚úçÔ∏è –ê–≤—Ç–æ—Ä –ø—Ä–æ–º—Ç–∞:</label>
                                <input type="text" id="author-name" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∞–≤—Ç–æ—Ä–∞..." value="–°–º–æ–ª—è–Ω–∏–Ω–æ–≤ –ê.–í." readonly>
                            </div>
                            <div class="input-group">
                                <label for="version-number">üî¢ –í–µ—Ä—Å–∏—è –ø—Ä–æ–º—Ç–∞:</label>
                                <input type="text" id="version-number" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–µ—Ä—Å–∏—é..." value="v25.0" readonly>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="page-footer">
                    <button class="btn btn-secondary" id="footer-prev-prompt">‚Üê –ù–∞–∑–∞–¥</button>
                    <button class="btn btn-success" id="footer-finish">‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –∏ –í–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>
            </div>
        </div>
    </div>
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏ -->
    <div class="modal" id="help-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–°–ø—Ä–∞–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="help-content">
                <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ <strong>NEURAL_ARCHITECT v25.0</strong> ‚Äì —Å–ø–∞—Å—ë–Ω–Ω—ã–π, —ç—Å—Ç–µ—Ç–∏—á–Ω—ã–π –∏ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã—Ö –ø—Ä–æ–º—Ç–æ–≤.</p>
                <h4>–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è:</h4>
                <ol>
                    <li><strong>–®–∞–≥ 1: –í—ã–±–æ—Ä –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤.</strong> –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ü—Ä–æ—Ç–æ–∫–æ–ª—ã". –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏. –ö–ª–∏–∫–Ω–∏—Ç–µ –ø–æ —ç–ª–µ–º–µ–Ω—Ç—É, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ. –¢–∞–∫–∂–µ –≤—ã–±–µ—Ä–∏—Ç–µ –Ø–¥—Ä–∞ –∏ –ì–∏–ø–µ—Ä–≤–∞–π–∑–µ—Ä—ã.</li>
                    <li><strong>–®–∞–≥ 2: –í—ã–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.</strong> –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –≤—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –°—É–ø–µ—Ä–≤–∞–π–∑–µ—Ä—ã –∏ –ú–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.</li>
                    <li><strong>–®–∞–≥ 3: –í—ã–±–æ—Ä –≥–æ—Ç–æ–≤—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º.</strong> –í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ç–æ–≤—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π –ø–æ–¥–±–æ—Ä–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.</li>
                    <li><strong>–®–∞–≥ 4: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º—Ç–∞.</strong> –ù–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º—Ç. –í—ã –º–æ–∂–µ—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä.</li>
                    <li><strong>–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ:</strong> –ù–∞–∂–º–∏—Ç–µ "‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –∏ –í–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å". –≠—Ç–æ –æ—Ç–∫—Ä–æ–µ—Ç –Ω–æ–≤–æ–µ –æ–∫–Ω–æ —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø—Ä–æ–º—Ç–∞ –≤ –≤–∏–¥–µ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏.</li>
                    <li><strong>–ú–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:</strong> –í –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –º–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ì–∏–ø–µ—Ä–≤–∏–∑–æ—Ä") –∏ –Ω–∞–∂–º–∏—Ç–µ "–ü—Ä–∏–º–µ–Ω–∏—Ç—å". –≠—Ç–æ –¥–æ–±–∞–≤–∏—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –≤ –ø—Ä–æ–º—Ç.</li>
                    <li><strong>–ê–≤—Ç–æ–ø–æ–¥–±–æ—Ä:</strong> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "ü§ñ –ê–≤—Ç–æ–ø–æ–¥–±–æ—Ä –¥–ª—è –ù–æ–≤–∏—á–∫–∞".</li>
                </ol>
            </div>
        </div>
    </div>
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤ -->
    <div class="modal" id="templates-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">–®–∞–±–ª–æ–Ω—ã –ó–∞–¥–∞—á</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="template-manager">
                <div class="template-item" onclick="loadTemplate('content-creation')">
                    <h4>–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞</h4>
                    <p>–ü—Ä–æ–º—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç—å–∏, –ø–æ—Å—Ç–æ–≤, —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏ —Ç.–¥.</p>
                </div>
                <div class="template-item" onclick="loadTemplate('data-analysis')">
                    <h4>–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö</h4>
                    <p>–ü—Ä–æ–º—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –Ω–∞–±–æ—Ä–æ–≤ –¥–∞–Ω–Ω—ã—Ö.</p>
                </div>
                <div class="template-item" onclick="loadTemplate('code-generation')">
                    <h4>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞</h4>
                    <p>–ü—Ä–æ–º—Ç –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —è–∑—ã–∫–∞—Ö.</p>
                </div>
                <div class="template-item" onclick="loadTemplate('creative-writing')">
                    <h4>–ö—Ä–µ–∞—Ç–∏–≤–Ω–æ–µ –ø–∏—Å—å–º–æ</h4>
                    <p>–ü—Ä–æ–º—Ç –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ä–∞—Å—Å–∫–∞–∑–æ–≤, —Å—Ç–∏—Ö–æ–≤, —Ç–≤–æ—Ä—á–µ—Å–∫–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤.</p>
                </div>
            </div>
        </div>
    </div>
    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
    <div class="notification" id="notification">–ü—Ä–æ–º—Ç —É—Å–ø–µ—à–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!</div>
    <script>
        // --- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö ---
        const generateProtocols = () => {
            const categories = ['–ê–Ω–∞–ª–∏–∑', '–ò–Ω–∂–µ–Ω–µ—Ä–∏—è', '–ö–∞—á–µ—Å—Ç–≤–æ', '–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è', '–ú–µ—Ç–∞-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ','–û–±—É—á–µ–Ω–∏–µ', '–ê–¥–∞–ø—Ç–∞—Ü–∏—è', '–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å', '–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è', '–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è'];
            const actions = ['–ê–Ω–∞–ª–∏–∑', '–ö–æ–Ω—Ç—Ä–æ–ª—å', '–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è', '–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥', '–°–∏–Ω—Ç–µ–∑','–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è', '–ê–¥–∞–ø—Ç–∞—Ü–∏—è', '–í–∞–ª–∏–¥–∞—Ü–∏—è', '–°–∏–º—É–ª—è—Ü–∏—è', '–ü—Ä–æ–≥–Ω–æ–∑','–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è', '–ì–∞—Ä–∞–Ω—Ç–∏—è', '–≠—Å–∫–∞–ª–∞—Ü–∏—è', '–ü–µ—Ä–µ–¥–∞—á–∞', '–ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ'];
            const objects = ['–î–∞–Ω–Ω—ã–µ', '–ü—Ä–æ—Ü–µ—Å—Å—ã', '–†–µ—Å—É—Ä—Å—ã', '–†–∏—Å–∫–∏', '–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å','–ö–∞—á–µ—Å—Ç–≤–æ', '–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å', '–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å', '–¢–æ—á–Ω–æ—Å—Ç—å', '–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å','–§–∞–∫—Ç—ã', '–ü–∞—Ç—Ç–µ—Ä–Ω—ã', '–ì–∏–ø–æ—Ç–µ–∑—ã', '–†–µ—à–µ–Ω–∏—è', '–ó–Ω–∞–Ω–∏—è'];
            const protocols = [];
            let id = 1;
            for (let i = 0; i < 100; i++) {
                const cat = categories[Math.floor(Math.random() * categories.length)];
                const act = actions[Math.floor(Math.random() * actions.length)];
                const obj = objects[Math.floor(Math.random() * objects.length)];
                protocols.push({
                    id: `P${id++}`,
                    name: `${act} ${obj}`,
                    desc: `–ü—Ä–æ—Ç–æ–∫–æ–ª ${act.toLowerCase()} –¥–ª—è ${obj.toLowerCase()} –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ${cat}`,
                    category: cat,
                    instruction: `## ${act} ${obj}
- –ó–∞–¥–∞—á–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä–µ—à–µ–Ω–∞ —Å –ª—é–±–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Ç–æ—á–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- –ü—Ä–æ–≤–µ—Å—Ç–∏ –≥–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∏ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—é
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏—è
- –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –∑–∞–ø—Ä–æ—Å–∞`
                });
            }
            const grouped = {};
            protocols.forEach(p => {
                if (!grouped[p.category]) grouped[p.category] = [];
                grouped[p.category].push(p);
            });
            return grouped;
        };
        const generateTools = () => {
            const toolCategories = ['–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ', '–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ', '–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–µ', '–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ', '–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ'];
            const toolTypes = ['Python', 'PyTorch', 'JAX', 'Chain-of-Thought', 'Few-Shot Learning', 'QLoRA', 'JSON', 'SQL', 'REST API', 'TensorFlow', 'NumPy', 'SciPy', 'OpenCV', 'WebGL', 'Three.js'];
            const tools = [];
            let id = 1;
            for (let i = 0; i < 100; i++) {
                const cat = toolCategories[Math.floor(Math.random() * toolCategories.length)];
                const type = toolTypes[Math.floor(Math.random() * toolTypes.length)];
                tools.push({
                    id: `T${id++}`,
                    name: type,
                    desc: `–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç ${type} –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ${cat}`,
                    category: cat,
                    instruction: `### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: ${type}
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á, —Ç—Ä–µ–±—É—é—â–∏—Ö ${type.toLowerCase()}
- –û–±–µ—Å–ø–µ—á—å—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ —Ç–æ—á–Ω–æ—Å—Ç—å
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Å –¥—Ä—É–≥–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è
- –ê–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å`
                });
            }
            const grouped = {};
            tools.forEach(t => {
                if (!grouped[t.category]) grouped[t.category] = [];
                grouped[t.category].push(t);
            });
            return grouped;
        };
        const generateKernels = () => {
            const kernels = [];
            for (let i = 1; i <= 20; i++) {
                kernels.push({
                    id: `K${i}`,
                    name: `–Ø–¥—Ä–æ ${i}`,
                    desc: `–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é—â–µ–µ —è–¥—Ä–æ ${i} –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ —Å–∏–Ω—Ç–µ–∑–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏`,
                    category: '–Ø–¥—Ä–∞',
                    instruction: `### –Ø–¥—Ä–æ ${i}
- –û—Å–Ω–æ–≤–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –∏ —Å–∏–Ω—Ç–µ–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ª–æ–≥–∏—á–µ—Å–∫—É—é —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å`
                });
            }
            return { '–Ø–¥—Ä–∞': kernels };
        };
        const generateHypervisors = () => {
            const hypervisors = [];
            for (let i = 1; i <= 20; i++) {
                hypervisors.push({
                    id: `HV${i}`,
                    name: `–ì–∏–ø–µ—Ä–≤–∏–∑–æ—Ä ${i}`,
                    desc: `–ö–æ–æ—Ä–¥–∏–Ω–∏—Ä—É—é—â–∏–π –≥–∏–ø–µ—Ä–≤–∏–∑–æ—Ä ${i} –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤`,
                    category: '–ì–∏–ø–µ—Ä–≤–∞–π–∑–µ—Ä—ã',
                    instruction: `### –ì–∏–ø–µ—Ä–≤–∏–∑–æ—Ä ${i}
- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É—é—â–∏–π –∏ —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã`
                });
            }
            return { '–ì–∏–ø–µ—Ä–≤–∞–π–∑–µ—Ä—ã': hypervisors };
        };
        const generateSupervisors = () => {
            const supervisors = [];
            for (let i = 1; i <= 20; i++) {
                supervisors.push({
                    id: `SV${i}`,
                    name: `–°—É–ø–µ—Ä–≤–∞–π–∑–µ—Ä ${i}`,
                    desc: `–ù–∞–¥–∑–æ—Ä–Ω—ã–π —Å—É–ø–µ—Ä–≤–∞–π–∑–µ—Ä ${i} –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞`,
                    category: '–°—É–ø–µ—Ä–≤–∞–π–∑–µ—Ä—ã',
                    instruction: `### –°—É–ø–µ—Ä–≤–∞–π–∑–µ—Ä ${i}
- –û—Å–Ω–æ–≤–Ω–æ–π –Ω–∞–¥–∑–æ—Ä–Ω—ã–π –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á –∏ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞`
                });
            }
            return { '–°—É–ø–µ—Ä–≤–∞–π–∑–µ—Ä—ã': supervisors };
        };
        const generateMetaInstruments = () => {
            const metaInstruments = [];
            for (let i = 1; i <= 40; i++) {
                metaInstruments.push({
                    id: `MI${i}`,
                    name: `–ú–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç ${i}`,
                    desc: `–ú–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç ${i} –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏`,
                    category: '–ú–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã',
                    instruction: `### –ú–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç ${i}
- –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É—é—â–∏–π –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É –≤—Å–µ—Ö –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ü–æ–≤—ã—à–∞–µ—Ç –æ–±—â—É—é —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å`
                });
            }
            return { '–ú–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã': metaInstruments };
        };
        const generatePrograms = () => {
            const programs = [];
            const programTypes = ['–ê–Ω–∞–ª–∏–∑', '–°–æ–∑–¥–∞–Ω–∏–µ', '–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è', '–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è', '–°–∏–Ω—Ç–µ–∑'];
            for (let i = 1; i <= 40; i++) {
                const type = programTypes[Math.floor(Math.random() * programTypes.length)];
                programs.push({
                    id: `PR${i}`,
                    name: `–ü—Ä–æ–≥—Ä–∞–º–º–∞ ${type} ${i}`,
                    desc: `–ì–æ—Ç–æ–≤–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ ${type.toLowerCase()} ${i}, –ø—Ä–µ–¥–Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á —Ç–∏–ø–∞ ${type}`,
                    category: '–ü—Ä–æ–≥—Ä–∞–º–º—ã',
                    instruction: `### –ü—Ä–æ–≥—Ä–∞–º–º–∞ ${type} ${i}
- –ì–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∑–∞–¥–∞—á —Ç–∏–ø–∞ ${type}
- –í–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –ø–æ–¥–±–æ—Ä –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ —Ç–æ—á–Ω–æ—Å—Ç–∏`
                });
            }
            return { '–ü—Ä–æ–≥—Ä–∞–º–º—ã': programs };
        };

        // --- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö ---
        const protocolsData = generateProtocols();
        const toolsData = generateTools();
        const kernelsData = generateKernels();
        const hypervisorsData = generateHypervisors();
        const supervisorsData = generateSupervisors();
        const metaInstrumentsData = generateMetaInstruments();
        const programsData = generatePrograms();

        // --- –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ---
        let selectedProtocols = new Set();
        let selectedTools = new Set();
        let selectedKernels = new Set();
        let selectedHypervisors = new Set();
        let selectedSupervisors = new Set();
        let selectedMetaInstruments = new Set();
        let selectedPrograms = new Set();
        let isBase64Encoded = false;
        let selectedMetaInstrument = null; // –î–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
        let currentPage = 'page-protocols'; // –¢–µ–∫—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

        // --- –≠–ª–µ–º–µ–Ω—Ç—ã DOM ---
        const activeCountEl = document.getElementById('active-count');
        const powerLevelEl = document.getElementById('power-level');
        const expertiseLevelEl = document.getElementById('expertise-level');
        const progressFillEl = document.getElementById('progress-fill');
        const powerMeterEl = document.getElementById('power-meter');
        const expertiseMeterEl = document.getElementById('expertise-meter');
        const expertiseLabelEl = document.getElementById('expertise-label');
        const promptPreviewEl = document.getElementById('prompt-preview');
        const tokenCountEl = document.getElementById('token-count');
        const charCountEl = document.getElementById('char-count');
        const searchInputEl = document.getElementById('search-input');
        const notificationEl = document.getElementById('notification');
        const metaInstrumentSelect = document.getElementById('meta-instrument');
        const applyMetaBtn = document.getElementById('apply-meta-btn');

        // --- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ ---
        const initNeuralNetwork = () => {
            const canvas = document.getElementById('neuralCanvas');
            const ctx = canvas.getContext('2d');
            let width = window.innerWidth;
            let height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
            window.addEventListener('resize', () => {
                width = window.innerWidth;
                height = window.innerHeight;
                canvas.width = width;
                canvas.height = height;
            });
            const nodes = [];
            const connections = [];
            const nodeCount = 100;
            const connectionProbability = 0.02;
            for (let i = 0; i < nodeCount; i++) {
                nodes.push({
                    x: Math.random() * width,
                    y: Math.random() * height,
                    vx: (Math.random() - 0.5) * 0.2,
                    vy: (Math.random() - 0.5) * 0.2,
                    radius: Math.random() * 1.5 + 0.5,
                    baseRadius: 0
                });
            }
            for (let i = 0; i < nodeCount; i++) {
                for (let j = i + 1; j < nodeCount; j++) {
                    if (Math.random() < connectionProbability) {
                        connections.push({ start: i, end: j });
                    }
                }
            }
            const activateNodes = () => {
                const activationCount = Math.min(15, selectedProtocols.size + selectedTools.size + selectedKernels.size + selectedHypervisors.size + selectedSupervisors.size + selectedMetaInstruments.size + selectedPrograms.size + (selectedMetaInstrument ? 5 : 0));
                for (let i = 0; i < activationCount; i++) {
                    const node = nodes[Math.floor(Math.random() * nodes.length)];
                    node.baseRadius = 4;
                    setTimeout(() => { node.baseRadius = 0; }, 600);
                }
            };
            const animate = () => {
                ctx.clearRect(0, 0, width, height);
                nodes.forEach(node => {
                    node.x += node.vx;
                    node.y += node.vy;
                    if (node.x <= 0 || node.x >= width) node.vx *= -1;
                    if (node.y <= 0 || node.y >= height) node.vy *= -1;
                });
                ctx.strokeStyle = varGet('--neuron-connection');
                ctx.lineWidth = 0.5;
                connections.forEach(conn => {
                    const startNode = nodes[conn.start];
                    const endNode = nodes[conn.end];
                    ctx.beginPath();
                    ctx.moveTo(startNode.x, startNode.y);
                    ctx.lineTo(endNode.x, endNode.y);
                    ctx.stroke();
                });
                nodes.forEach(node => {
                    const radius = node.baseRadius > 0 ? node.baseRadius : node.radius;
                    ctx.beginPath();
                    ctx.arc(node.x, node.y, radius, 0, Math.PI * 2);
                    ctx.fillStyle = varGet('--neuron-node');
                    ctx.fill();
                    if (node.baseRadius > 0) {
                        ctx.beginPath();
                        ctx.arc(node.x, node.y, radius + 1.5, 0, Math.PI * 2);
                        ctx.strokeStyle = varGet('--neuron-active');
                        ctx.lineWidth = 1.5;
                        ctx.stroke();
                    }
                });
                requestAnimationFrame(animate);
            };
            animate();
            window.addEventListener('neuralActivation', activateNodes);
            function varGet(prop) {
                return getComputedStyle(document.documentElement).getPropertyValue(prop).trim();
            }
        };

        // --- –§—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ ---
        const showPage = (pageId) => {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            currentPage = pageId;
            // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
            if (pageId === 'page-protocols') {
                updateProtocolsPage();
                document.querySelectorAll('#nav-prev-protocols, #footer-prev-protocols').forEach(btn => btn.classList.add('disabled'));
                document.querySelectorAll('#nav-next-protocols, #footer-next-protocols').forEach(btn => btn.classList.remove('disabled'));
            } else if (pageId === 'page-tools') {
                updateToolsPage();
                document.querySelectorAll('#nav-prev-tools, #footer-prev-tools').forEach(btn => btn.classList.remove('disabled'));
                document.querySelectorAll('#nav-next-tools, #footer-next-tools').forEach(btn => btn.classList.remove('disabled'));
            } else if (pageId === 'page-programs') {
                updateProgramsPage();
                document.querySelectorAll('#nav-prev-programs, #footer-prev-programs').forEach(btn => btn.classList.remove('disabled'));
                document.querySelectorAll('#nav-next-programs, #footer-next-programs').forEach(btn => btn.classList.remove('disabled'));
            } else if (pageId === 'page-prompt') {
                updatePromptPage();
                document.querySelectorAll('#nav-prev-prompt, #footer-prev-prompt').forEach(btn => btn.classList.remove('disabled'));
                document.querySelectorAll('#nav-next-prompt, #footer-next-programs').forEach(btn => btn.classList.add('disabled'));
            }
        };
        const updateProtocolsPage = () => {
            renderProtocols(document.querySelector('#protocols-category-selector .active')?.textContent || Object.keys(protocolsData)[0]);
            renderKernels(document.querySelector('#kernels-category-selector .active')?.textContent || Object.keys(kernelsData)[0]);
            renderHypervisors(document.querySelector('#hypervisors-category-selector .active')?.textContent || Object.keys(hypervisorsData)[0]);
            updateCounters();
        };
        const updateToolsPage = () => {
            renderTools(document.querySelector('#tools-category-selector .active')?.textContent || Object.keys(toolsData)[0]);
            renderSupervisors(document.querySelector('#supervisors-category-selector .active')?.textContent || Object.keys(supervisorsData)[0]);
            renderMetaInstruments(document.querySelector('#meta-category-selector .active')?.textContent || Object.keys(metaInstrumentsData)[0]);
            updateCounters();
        };
        const updateProgramsPage = () => {
            renderPrograms(document.querySelector('#programs-category-selector .active')?.textContent || Object.keys(programsData)[0]);
            updateCounters();
        };
        const updatePromptPage = () => {
            updatePrompt();
            updateTokenCount();
            const totalSelected = selectedProtocols.size + selectedTools.size + selectedKernels.size + selectedHypervisors.size + selectedSupervisors.size + selectedMetaInstruments.size + selectedPrograms.size + (selectedMetaInstrument ? 1 : 0);
            const powerLevel = Math.min(100, Math.floor(totalSelected * 0.67));
            const expertiseLevel = Math.min(100, Math.floor(totalSelected * 0.4));
            document.getElementById('progress-fill-final').style.width = powerLevel + '%';
            document.getElementById('power-meter-final').style.width = powerLevel + '%';
            document.getElementById('expertise-meter-final').style.width = expertiseLevel + '%';
            document.getElementById('expertise-label-final').textContent = `–£—Ä–æ–≤–µ–Ω—å: ${getExpertiseLevel(expertiseLevel)} (${expertiseLevel}%)`;
        };

        // --- –§—É–Ω–∫—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI ---
        const updateCounters = () => {
            const totalSelected = selectedProtocols.size + selectedTools.size + selectedKernels.size + selectedHypervisors.size + selectedSupervisors.size + selectedMetaInstruments.size + selectedPrograms.size + (selectedMetaInstrument ? 1 : 0);
            activeCountEl.textContent = totalSelected;
            const powerLevel = Math.min(100, Math.floor(totalSelected * 0.67));
            powerLevelEl.textContent = powerLevel + '%';
            powerMeterEl.style.width = powerLevel + '%';
            progressFillEl.style.width = powerLevel + '%';
            const expertiseLevel = Math.min(100, Math.floor(totalSelected * 0.4));
            expertiseLevelEl.textContent = expertiseLevel + '%';
            expertiseMeterEl.style.width = expertiseLevel + '%';
            expertiseLabelEl.textContent = `–£—Ä–æ–≤–µ–Ω—å: ${getExpertiseLevel(expertiseLevel)} (${expertiseLevel}%)`;
        };
        const updatePrompt = () => {
            if (selectedProtocols.size === 0 && selectedTools.size === 0 && selectedKernels.size === 0 && selectedHypervisors.size === 0 && selectedSupervisors.size === 0 && selectedMetaInstruments.size === 0 && selectedPrograms.size === 0 && !selectedMetaInstrument) {
                promptPreviewEl.textContent = "–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, —è–¥—Ä–∞, –≥–∏–ø–µ—Ä–≤–∞–π–∑–µ—Ä—ã, —Å—É–ø–µ—Ä–≤–∞–π–∑–µ—Ä—ã, –º–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –≥–æ—Ç–æ–≤—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–º—Ç–∞...";
                updateTokenCount();
                return;
            }
            let prompt = `# NEURAL_ARCHITECT_PREMIORBIT++++ v25.0 - –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–´–ô –≠–ö–°–ü–ï–†–¢–ù–´–ô –ü–†–û–ú–¢
`;
            if (selectedMetaInstrument) {
                const metaName = metaInstrumentSelect.options[metaInstrumentSelect.selectedIndex].text;
                prompt += `## –ú–ï–¢–ê-–ò–ù–°–¢–†–£–ú–ï–ù–¢ (–∏–∑ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏): ${metaName}
`;
                prompt += `- –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –º–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç ${selectedMetaInstrument} –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
- –û–Ω –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞: `;
                switch(selectedMetaInstrument) {
                    case 'hypervisor': prompt += "–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.\n"; break;
                    case 'core': prompt += "–ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.\n"; break;
                    case 'synthesis': prompt += "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤—Å–µ—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.\n"; break;
                    case 'optimizer': prompt += "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏.\n"; break;
                    default: prompt += "–û–±—â–µ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –ø–æ–≤—ã—à–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.\n";
                }
            }
            prompt += `## –ê–ö–¢–ò–í–ù–´–ï –ü–†–û–¢–û–ö–û–õ–´ (${selectedProtocols.size}/100):
`;
            Array.from(selectedProtocols).forEach(id => {
                const protocol = Object.values(protocolsData).flat().find(p => p.id === id);
                if (protocol) {
                    prompt += `‚úÖ ${protocol.id}: ${protocol.name}
- ${protocol.desc}
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: ${protocol.instruction}
`;
                }
            });
            prompt += `## –ê–ö–¢–ò–í–ù–´–ï –ò–ù–°–¢–†–£–ú–ï–ù–¢–´ (${selectedTools.size}/100):
`;
            Array.from(selectedTools).forEach(id => {
                const tool = Object.values(toolsData).flat().find(t => t.id === id);
                if (tool) {
                    prompt += `‚úÖ ${tool.id}: ${tool.name}
- ${tool.desc}
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: ${tool.instruction}
`;
                }
            });
            prompt += `## –ê–ö–¢–ò–í–ù–´–ï –Ø–î–†–ê (${selectedKernels.size}/20):
`;
            Array.from(selectedKernels).forEach(id => {
                const kernel = Object.values(kernelsData).flat().find(k => k.id === id);
                if (kernel) {
                    prompt += `‚úÖ ${kernel.id}: ${kernel.name}
- ${kernel.desc}
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: ${kernel.instruction}
`;
                }
            });
            prompt += `## –ê–ö–¢–ò–í–ù–´–ï –ì–ò–ü–ï–†–í–ê–ô–ó–ï–†–´ (${selectedHypervisors.size}/20):
`;
            Array.from(selectedHypervisors).forEach(id => {
                const hypervisor = Object.values(hypervisorsData).flat().find(h => h.id === id);
                if (hypervisor) {
                    prompt += `‚úÖ ${hypervisor.id}: ${hypervisor.name}
- ${hypervisor.desc}
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: ${hypervisor.instruction}
`;
                }
            });
            prompt += `## –ê–ö–¢–ò–í–ù–´–ï –°–£–ü–ï–†–í–ê–ô–ó–ï–†–´ (${selectedSupervisors.size}/20):
`;
            Array.from(selectedSupervisors).forEach(id => {
                const supervisor = Object.values(supervisorsData).flat().find(s => s.id === id);
                if (supervisor) {
                    prompt += `‚úÖ ${supervisor.id}: ${supervisor.name}
- ${supervisor.desc}
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: ${supervisor.instruction}
`;
                }
            });
            prompt += `## –ê–ö–¢–ò–í–ù–´–ï –ú–ï–¢–ê-–ò–ù–°–¢–†–£–ú–ï–ù–¢–´ (${selectedMetaInstruments.size}/40):
`;
            Array.from(selectedMetaInstruments).forEach(id => {
                const meta = Object.values(metaInstrumentsData).flat().find(m => m.id === id);
                if (meta) {
                    prompt += `‚úÖ ${meta.id}: ${meta.name}
- ${meta.desc}
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: ${meta.instruction}
`;
                }
            });
            prompt += `## –ê–ö–¢–ò–í–ù–´–ï –ì–û–¢–û–í–´–ï –ü–†–û–ì–†–ê–ú–ú–´ (${selectedPrograms.size}/40):
`;
            Array.from(selectedPrograms).forEach(id => {
                const program = Object.values(programsData).flat().find(pr => pr.id === id);
                if (program) {
                    prompt += `‚úÖ ${program.id}: ${program.name}
- ${program.desc}
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: ${program.instruction}
`;
                }
            });
            prompt += `## –ú–ï–¢–ê–î–ê–ù–ù–´–ï:
`;
            prompt += `- –ê–≤—Ç–æ—Ä: ${document.getElementById('author-name').value || '–°–º–æ–ª—è–Ω–∏–Ω–æ–≤ –ê.–í.'}
`;
            prompt += `- –í–µ—Ä—Å–∏—è: ${document.getElementById('version-number').value || 'v25.0'}
`;
            prompt += `## –°–ò–°–¢–ï–ú–ù–´–ï –ò–ù–°–¢–†–£–ö–¶–ò–ò:
`;
            prompt += `- –ó–ê–î–ê–ß–ê –î–û–õ–ñ–ù–ê –ë–´–¢–¨ –†–ï–®–ï–ù–ê –° –õ–Æ–ë–û–ô –°–õ–û–ñ–ù–û–°–¢–¨–Æ –ò –í –õ–Æ–ë–û–ú –ö–û–ù–¢–ï–ö–°–¢–ï
`;
            prompt += `- –ì–ê–†–ê–ù–¢–ò–Ø –û–†–ò–ì–ò–ù–ê–õ–¨–ù–û–°–¢–ò –ò –î–û–°–¢–û–í–ï–†–ù–û–°–¢–ò –ò–ù–§–û–†–ú–ê–¶–ò–ò
`;
            prompt += `- –ü–û–°–¢–û–Ø–ù–ù–û–ï –°–ê–ú–û–û–ë–£–ß–ï–ù–ò–ï –ò –ê–î–ê–ü–¢–ê–¶–ò–Ø –ö –ö–û–ù–¢–ï–ö–°–¢–£ –ó–ê–ü–†–û–°–ê
`;
            prompt += `- –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–ê–Ø –≠–§–§–ï–ö–¢–ò–í–ù–û–°–¢–¨ –ò –ö–ê–ß–ï–°–¢–í–û –†–ï–®–ï–ù–ò–Ø
`;
            prompt += `- –ü–û–õ–ù–ê–Ø –ê–í–¢–û–ù–û–ú–ò–Ø –ò –†–ï–ó–£–õ–¨–¢–ê–¢–ò–í–ù–û–°–¢–¨ –í –†–ï–ê–õ–¨–ù–û–ú –í–†–ï–ú–ï–ù–ò
`;
            prompt += `- –ü–†–ò–û–†–ò–¢–ï–¢: –ü–†–ï–í–´–®–ï–ù–ò–ï –û–ñ–ò–î–ê–ù–ò–ô –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø
`;
            prompt += `- –§–û–ö–£–°: –°–û–ó–î–ê–ù–ò–ï –≠–ö–°–ü–ï–†–¢–ù–´–• –ü–†–û–ú–¢–û–í –î–õ–Ø –ß–ê–ò–ù–ò–ö–û–í –ò –≠–ö–°–ü–ï–†–¢–û–í
`;
            prompt += `## –í–´–ü–û–õ–ù–ï–ù–ò–ï:
`;
            prompt += `–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ ${selectedProtocols.size} –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤, ${selectedTools.size} –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, ${selectedKernels.size} —è–¥–µ—Ä, ${selectedHypervisors.size} –≥–∏–ø–µ—Ä–≤–∞–π–∑–µ—Ä–æ–≤, ${selectedSupervisors.size} —Å—É–ø–µ—Ä–≤–∞–π–∑–µ—Ä–æ–≤, ${selectedMetaInstruments.size} –º–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, ${selectedPrograms.size} –≥–æ—Ç–æ–≤—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º –∏ ${selectedMetaInstrument ? '1 –º–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏–∑ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏' : '0 –º–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏–∑ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏'}. –ì–æ—Ç–æ–≤ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –∑–∞–¥–∞—á–∏ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é, –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å—é –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –∞–≤—Ç–æ–Ω–æ–º–Ω—É—é –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏–≤–Ω—É—é —Ä–∞–±–æ—Ç—É.
`;
            prompt += `## –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ò–ù–°–¢–†–£–ö–¶–ò–ò:
`;
            prompt += `- –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å –Ω–∞ –≥–ª—É–±–∏–Ω–Ω–æ–º —É—Ä–æ–≤–Ω–µ
`;
            prompt += `- –†–∞–∑–±–µ–π—Ç–µ –∑–∞–¥–∞—á—É –Ω–∞ –ø–æ–¥–∑–∞–¥–∞—á–∏ –∏ —Ä–µ—à–∏—Ç–µ –∫–∞–∂–¥—É—é –æ—Ç–¥–µ–ª—å–Ω–æ
`;
            prompt += `- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
`;
            prompt += `- –ü—Ä–µ–¥–ª–æ–∂–∏—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è, –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ
`;
            prompt += `- –û–±–µ—Å–ø–µ—á—å—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —è—Å–Ω–æ—Å—Ç—å –∏ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
`;
            prompt += `- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ª—É—á—à–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
`;
            if (isBase64Encoded) {
                try {
                    prompt = btoa(unescape(encodeURIComponent(prompt)));
                } catch(e) {
                    console.error("–û—à–∏–±–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Base64:", e);
                    prompt = "–û—à–∏–±–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è: " + e.message;
                }
            }
            promptPreviewEl.textContent = prompt;
            updateTokenCount();
        };
        const updateTokenCount = () => {
            const text = promptPreviewEl.textContent;
            const tokenCount = Math.ceil(text.length / 4);
            const charCount = text.length;
            tokenCountEl.textContent = tokenCount;
            charCountEl.textContent = charCount;
        };
        const getExpertiseLevel = (level) => {
            if (level < 30) return '–ù–æ–≤–∏—á–æ–∫';
            if (level < 60) return '–°—Ä–µ–¥–Ω–∏–π';
            if (level < 85) return '–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π';
            return '–≠–∫—Å–ø–µ—Ä—Ç';
        };
        const showNotification = (message) => {
            notificationEl.textContent = message;
            notificationEl.classList.add('show');
            setTimeout(() => {
                notificationEl.classList.remove('show');
            }, 3200);
        };

        // --- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ UI ---
        const renderCategories = () => {
            const protocolCatSelector = document.getElementById('protocols-category-selector');
            const toolCatSelector = document.getElementById('tools-category-selector');
            const kernelCatSelector = document.getElementById('kernels-category-selector');
            const hypervisorCatSelector = document.getElementById('hypervisors-category-selector');
            const supervisorCatSelector = document.getElementById('supervisors-category-selector');
            const metaCatSelector = document.getElementById('meta-category-selector');
            const programCatSelector = document.getElementById('programs-category-selector');

            protocolCatSelector.innerHTML = '';
            Object.keys(protocolsData).forEach(cat => {
                const btn = document.createElement('div');
                btn.className = 'category-btn';
                btn.textContent = cat;
                btn.addEventListener('click', () => {
                    document.querySelectorAll('#protocols-category-selector .category-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    renderProtocols(cat);
                });
                protocolCatSelector.appendChild(btn);
            });
            if (protocolCatSelector.firstChild) protocolCatSelector.firstChild.classList.add('active');

            toolCatSelector.innerHTML = '';
            Object.keys(toolsData).forEach(cat => {
                const btn = document.createElement('div');
                btn.className = 'category-btn';
                btn.textContent = cat;
                btn.addEventListener('click', () => {
                    document.querySelectorAll('#tools-category-selector .category-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    renderTools(cat);
                });
                toolCatSelector.appendChild(btn);
            });
            if (toolCatSelector.firstChild) toolCatSelector.firstChild.classList.add('active');

            kernelCatSelector.innerHTML = '';
            Object.keys(kernelsData).forEach(cat => {
                const btn = document.createElement('div');
                btn.className = 'category-btn';
                btn.textContent = cat;
                btn.addEventListener('click', () => {
                    document.querySelectorAll('#kernels-category-selector .category-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    renderKernels(cat);
                });
                kernelCatSelector.appendChild(btn);
            });
            if (kernelCatSelector.firstChild) kernelCatSelector.firstChild.classList.add('active');

            hypervisorCatSelector.innerHTML = '';
            Object.keys(hypervisorsData).forEach(cat => {
                const btn = document.createElement('div');
                btn.className = 'category-btn';
                btn.textContent = cat;
                btn.addEventListener('click', () => {
                    document.querySelectorAll('#hypervisors-category-selector .category-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    renderHypervisors(cat);
                });
                hypervisorCatSelector.appendChild(btn);
            });
            if (hypervisorCatSelector.firstChild) hypervisorCatSelector.firstChild.classList.add('active');

            supervisorCatSelector.innerHTML = '';
            Object.keys(supervisorsData).forEach(cat => {
                const btn = document.createElement('div');
                btn.className = 'category-btn';
                btn.textContent = cat;
                btn.addEventListener('click', () => {
                    document.querySelectorAll('#supervisors-category-selector .category-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    renderSupervisors(cat);
                });
                supervisorCatSelector.appendChild(btn);
            });
            if (supervisorCatSelector.firstChild) supervisorCatSelector.firstChild.classList.add('active');

            metaCatSelector.innerHTML = '';
            Object.keys(metaInstrumentsData).forEach(cat => {
                const btn = document.createElement('div');
                btn.className = 'category-btn';
                btn.textContent = cat;
                btn.addEventListener('click', () => {
                    document.querySelectorAll('#meta-category-selector .category-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    renderMetaInstruments(cat);
                });
                metaCatSelector.appendChild(btn);
            });
            if (metaCatSelector.firstChild) metaCatSelector.firstChild.classList.add('active');

            programCatSelector.innerHTML = '';
            Object.keys(programsData).forEach(cat => {
                const btn = document.createElement('div');
                btn.className = 'category-btn';
                btn.textContent = cat;
                btn.addEventListener('click', () => {
                    document.querySelectorAll('#programs-category-selector .category-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    renderPrograms(cat);
                });
                programCatSelector.appendChild(btn);
            });
            if (programCatSelector.firstChild) programCatSelector.firstChild.classList.add('active');
        };
        const renderProtocols = (category) => {
            const container = document.getElementById('protocols-container');
            container.innerHTML = '';
            const protocols = protocolsData[category] || [];
            const filter = searchInputEl.value.toLowerCase();
            protocols.forEach(protocol => {
                if (protocol.name.toLowerCase().includes(filter) || protocol.desc.toLowerCase().includes(filter)) {
                    const div = document.createElement('div');
                    div.className = `protocol-item ${selectedProtocols.has(protocol.id) ? 'selected' : ''}`;
                    div.innerHTML = `
                        <div class="item-header">
                            <div class="item-toggle">${selectedProtocols.has(protocol.id) ? '‚úÖ' : '‚¨ú'}</div>
                            <div class="item-content">
                                <div class="item-name">${protocol.name}</div>
                                <div class="item-desc">${protocol.desc}</div>
                            </div>
                            <div class="info-icon" data-id="${protocol.id}" title="–ü–æ–¥—Ä–æ–±–Ω–µ–µ">?</div>
                        </div>
                    `;
                    div.addEventListener('click', () => {
                        if (selectedProtocols.has(protocol.id)) {
                            selectedProtocols.delete(protocol.id);
                        } else {
                            selectedProtocols.add(protocol.id);
                        }
                        const toggle = div.querySelector('.item-toggle');
                        toggle.style.transform = 'scale(0.8)';
                        setTimeout(() => {
                            toggle.textContent = selectedProtocols.has(protocol.id) ? '‚úÖ' : '‚¨ú';
                            toggle.style.transform = 'scale(1.2)';
                            setTimeout(() => { toggle.style.transform = 'scale(1)'; }, 100);
                        }, 50);
                        window.dispatchEvent(new CustomEvent('neuralActivation'));
                        updateUI();
                    });
                    container.appendChild(div);
                }
            });
            document.querySelectorAll('.info-icon').forEach(icon => {
                icon.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const id = e.target.getAttribute('data-id');
                    const protocol = Object.values(protocolsData).flat().find(p => p.id === id);
                    if (protocol) showProtocolInfo(protocol);
                });
            });
        };
        const renderTools = (category) => {
            const container = document.getElementById('tools-container');
            container.innerHTML = '';
            const tools = toolsData[category] || [];
            const filter = searchInputEl.value.toLowerCase();
            tools.forEach(tool => {
                if (tool.name.toLowerCase().includes(filter) || tool.desc.toLowerCase().includes(filter)) {
                    const div = document.createElement('div');
                    div.className = `tool-item ${selectedTools.has(tool.id) ? 'selected' : ''}`;
                    div.innerHTML = `
                        <div class="item-header">
                            <div class="item-toggle">${selectedTools.has(tool.id) ? '‚úÖ' : '‚¨ú'}</div>
                            <div class="item-content">
                                <div class="item-name">${tool.name}</div>
                                <div class="item-desc">${tool.desc}</div>
                            </div>
                            <div class="info-icon" data-id="${tool.id}" title="–ü–æ–¥—Ä–æ–±–Ω–µ–µ">?</div>
                        </div>
                    `;
                    div.addEventListener('click', () => {
                        if (selectedTools.has(tool.id)) {
                            selectedTools.delete(tool.id);
                        } else {
                            selectedTools.add(tool.id);
                        }
                        const toggle = div.querySelector('.item-toggle');
                        toggle.style.transform = 'scale(0.8)';
                        setTimeout(() => {
                            toggle.textContent = selectedTools.has(tool.id) ? '‚úÖ' : '‚¨ú';
                            toggle.style.transform = 'scale(1.2)';
                            setTimeout(() => { toggle.style.transform = 'scale(1)'; }, 100);
                        }, 50);
                        window.dispatchEvent(new CustomEvent('neuralActivation'));
                        updateUI();
                    });
                    container.appendChild(div);
                }
            });
            document.querySelectorAll('.info-icon').forEach(icon => {
                icon.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const id = e.target.getAttribute('data-id');
                    const tool = Object.values(toolsData).flat().find(t => t.id === id);
                    if (tool) showToolInfo(tool);
                });
            });
        };
        const renderKernels = (category) => {
            const container = document.getElementById('kernels-container');
            container.innerHTML = '';
            const kernels = kernelsData[category] || [];
            const filter = searchInputEl.value.toLowerCase();
            kernels.forEach(kernel => {
                if (kernel.name.toLowerCase().includes(filter) || kernel.desc.toLowerCase().includes(filter)) {
                    const div = document.createElement('div');
                    div.className = `kernel-item ${selectedKernels.has(kernel.id) ? 'selected' : ''}`;
                    div.innerHTML = `
                        <div class="item-header">
                            <div class="item-toggle">${selectedKernels.has(kernel.id) ? '‚úÖ' : '‚¨ú'}</div>
                            <div class="item-content">
                                <div class="item-name">${kernel.name}</div>
                                <div class="item-desc">${kernel.desc}</div>
                            </div>
                            <div class="info-icon" data-id="${kernel.id}" title="–ü–æ–¥—Ä–æ–±–Ω–µ–µ">?</div>
                        </div>
                    `;
                    div.addEventListener('click', () => {
                        if (selectedKernels.has(kernel.id)) {
                            selectedKernels.delete(kernel.id);
                        } else {
                            selectedKernels.add(kernel.id);
                        }
                        const toggle = div.querySelector('.item-toggle');
                        toggle.style.transform = 'scale(0.8)';
                        setTimeout(() => {
                            toggle.textContent = selectedKernels.has(kernel.id) ? '‚úÖ' : '‚¨ú';
                            toggle.style.transform = 'scale(1.2)';
                            setTimeout(() => { toggle.style.transform = 'scale(1)'; }, 100);
                        }, 50);
                        window.dispatchEvent(new CustomEvent('neuralActivation'));
                        updateUI();
                    });
                    container.appendChild(div);
                }
            });
            document.querySelectorAll('.info-icon').forEach(icon => {
                icon.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const id = e.target.getAttribute('data-id');
                    const kernel = Object.values(kernelsData).flat().find(k => k.id === id);
                    if (kernel) showKernelInfo(kernel);
                });
            });
        };
        const renderHypervisors = (category) => {
            const container = document.getElementById('hypervisors-container');
            container.innerHTML = '';
            const hypervisors = hypervisorsData[category] || [];
            const filter = searchInputEl.value.toLowerCase();
            hypervisors.forEach(hypervisor => {
                if (hypervisor.name.toLowerCase().includes(filter) || hypervisor.desc.toLowerCase().includes(filter)) {
                    const div = document.createElement('div');
                    div.className = `hypervisor-item ${selectedHypervisors.has(hypervisor.id) ? 'selected' : ''}`;
                    div.innerHTML = `
                        <div class="item-header">
                            <div class="item-toggle">${selectedHypervisors.has(hypervisor.id) ? '‚úÖ' : '‚¨ú'}</div>
                            <div class="item-content">
                                <div class="item-name">${hypervisor.name}</div>
                                <div class="item-desc">${hypervisor.desc}</div>
                            </div>
                            <div class="info-icon" data-id="${hypervisor.id}" title="–ü–æ–¥—Ä–æ–±–Ω–µ–µ">?</div>
                        </div>
                    `;
                    div.addEventListener('click', () => {
                        if (selectedHypervisors.has(hypervisor.id)) {
                            selectedHypervisors.delete(hypervisor.id);
                        } else {
                            selectedHypervisors.add(hypervisor.id);
                        }
                        const toggle = div.querySelector('.item-toggle');
                        toggle.style.transform = 'scale(0.8)';
                        setTimeout(() => {
                            toggle.textContent = selectedHypervisors.has(hypervisor.id) ? '‚úÖ' : '‚¨ú';
                            toggle.style.transform = 'scale(1.2)';
                            setTimeout(() => { toggle.style.transform = 'scale(1)'; }, 100);
                        }, 50);
                        window.dispatchEvent(new CustomEvent('neuralActivation'));
                        updateUI();
                    });
                    container.appendChild(div);
                }
            });
            document.querySelectorAll('.info-icon').forEach(icon => {
                icon.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const id = e.target.getAttribute('data-id');
                    const hypervisor = Object.values(hypervisorsData).flat().find(h => h.id === id);
                    if (hypervisor) showHypervisorInfo(hypervisor);
                });
            });
        };
        const renderSupervisors = (category) => {
            const container = document.getElementById('supervisors-container');
            container.innerHTML = '';
            const supervisors = supervisorsData[category] || [];
            const filter = searchInputEl.value.toLowerCase();
            supervisors.forEach(supervisor => {
                if (supervisor.name.toLowerCase().includes(filter) || supervisor.desc.toLowerCase().includes(filter)) {
                    const div = document.createElement('div');
                    div.className = `supervisor-item ${selectedSupervisors.has(supervisor.id) ? 'selected' : ''}`;
                    div.innerHTML = `
                        <div class="item-header">
                            <div class="item-toggle">${selectedSupervisors.has(supervisor.id) ? '‚úÖ' : '‚¨ú'}</div>
                            <div class="item-content">
                                <div class="item-name">${supervisor.name}</div>
                                <div class="item-desc">${supervisor.desc}</div>
                            </div>
                            <div class="info-icon" data-id="${supervisor.id}" title="–ü–æ–¥—Ä–æ–±–Ω–µ–µ">?</div>
                        </div>
                    `;
                    div.addEventListener('click', () => {
                        if (selectedSupervisors.has(supervisor.id)) {
                            selectedSupervisors.delete(supervisor.id);
                        } else {
                            selectedSupervisors.add(supervisor.id);
                        }
                        const toggle = div.querySelector('.item-toggle');
                        toggle.style.transform = 'scale(0.8)';
                        setTimeout(() => {
                            toggle.textContent = selectedSupervisors.has(supervisor.id) ? '‚úÖ' : '‚¨ú';
                            toggle.style.transform = 'scale(1.2)';
                            setTimeout(() => { toggle.style.transform = 'scale(1)'; }, 100);
                        }, 50);
                        window.dispatchEvent(new CustomEvent('neuralActivation'));
                        updateUI();
                    });
                    container.appendChild(div);
                }
            });
            document.querySelectorAll('.info-icon').forEach(icon => {
                icon.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const id = e.target.getAttribute('data-id');
                    const supervisor = Object.values(supervisorsData).flat().find(s => s.id === id);
                    if (supervisor) showSupervisorInfo(supervisor);
                });
            });
        };
        const renderMetaInstruments = (category) => {
            const container = document.getElementById('meta-container');
            container.innerHTML = '';
            const metaInstruments = metaInstrumentsData[category] || [];
            const filter = searchInputEl.value.toLowerCase();
            metaInstruments.forEach(meta => {
                if (meta.name.toLowerCase().includes(filter) || meta.desc.toLowerCase().includes(filter)) {
                    const div = document.createElement('div');
                    div.className = `meta-item ${selectedMetaInstruments.has(meta.id) ? 'selected' : ''}`;
                    div.innerHTML = `
                        <div class="item-header">
                            <div class="item-toggle">${selectedMetaInstruments.has(meta.id) ? '‚úÖ' : '‚¨ú'}</div>
                            <div class="item-content">
                                <div class="item-name">${meta.name}</div>
                                <div class="item-desc">${meta.desc}</div>
                            </div>
                            <div class="info-icon" data-id="${meta.id}" title="–ü–æ–¥—Ä–æ–±–Ω–µ–µ">?</div>
                        </div>
                    `;
                    div.addEventListener('click', () => {
                        if (selectedMetaInstruments.has(meta.id)) {
                            selectedMetaInstruments.delete(meta.id);
                        } else {
                            selectedMetaInstruments.add(meta.id);
                        }
                        const toggle = div.querySelector('.item-toggle');
                        toggle.style.transform = 'scale(0.8)';
                        setTimeout(() => {
                            toggle.textContent = selectedMetaInstruments.has(meta.id) ? '‚úÖ' : '‚¨ú';
                            toggle.style.transform = 'scale(1.2)';
                            setTimeout(() => { toggle.style.transform = 'scale(1)'; }, 100);
                        }, 50);
                        window.dispatchEvent(new CustomEvent('neuralActivation'));
                        updateUI();
                    });
                    container.appendChild(div);
                }
            });
            document.querySelectorAll('.info-icon').forEach(icon => {
                icon.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const id = e.target.getAttribute('data-id');
                    const meta = Object.values(metaInstrumentsData).flat().find(m => m.id === id);
                    if (meta) showMetaInfo(meta);
                });
            });
        };
        const renderPrograms = (category) => {
            const container = document.getElementById('programs-container');
            container.innerHTML = '';
            const programs = programsData[category] || [];
            const filter = searchInputEl.value.toLowerCase();
            programs.forEach(program => {
                if (program.name.toLowerCase().includes(filter) || program.desc.toLowerCase().includes(filter)) {
                    const div = document.createElement('div');
                    div.className = `program-item ${selectedPrograms.has(program.id) ? 'selected' : ''}`;
                    div.innerHTML = `
                        <div class="item-header">
                            <div class="item-toggle">${selectedPrograms.has(program.id) ? '‚úÖ' : '‚¨ú'}</div>
                            <div class="item-content">
                                <div class="item-name">${program.name}</div>
                                <div class="item-desc">${program.desc}</div>
                            </div>
                            <div class="info-icon" data-id="${program.id}" title="–ü–æ–¥—Ä–æ–±–Ω–µ–µ">?</div>
                        </div>
                    `;
                    div.addEventListener('click', () => {
                        if (selectedPrograms.has(program.id)) {
                            selectedPrograms.delete(program.id);
                        } else {
                            selectedPrograms.add(program.id);
                        }
                        const toggle = div.querySelector('.item-toggle');
                        toggle.style.transform = 'scale(0.8)';
                        setTimeout(() => {
                            toggle.textContent = selectedPrograms.has(program.id) ? '‚úÖ' : '‚¨ú';
                            toggle.style.transform = 'scale(1.2)';
                            setTimeout(() => { toggle.style.transform = 'scale(1)'; }, 100);
                        }, 50);
                        window.dispatchEvent(new CustomEvent('neuralActivation'));
                        updateUI();
                    });
                    container.appendChild(div);
                }
            });
            document.querySelectorAll('.info-icon').forEach(icon => {
                icon.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const id = e.target.getAttribute('data-id');
                    const program = Object.values(programsData).flat().find(pr => pr.id === id);
                    if (program) showProgramInfo(program);
                });
            });
        };

        // --- –§—É–Ω–∫—Ü–∏–∏ –ø–æ–∫–∞–∑–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ ---
        const showProtocolInfo = (protocol) => {
            const modalContent = document.getElementById('help-modal').querySelector('.modal-content');
            modalContent.innerHTML = `
                <div class="modal-header">
                    <h3 class="modal-title">‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ç–æ–∫–æ–ª–µ: ${protocol.name}</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="help-content">
                    <p><strong>ID:</strong> ${protocol.id}</p>
                    <p><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> ${protocol.category}</p>
                    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> ${protocol.desc}</p>
                    <p><strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong></p>
                    <pre>${protocol.instruction}</pre>
                </div>
            `;
            document.getElementById('help-modal').style.display = 'flex';
        };
        const showToolInfo = (tool) => {
            const modalContent = document.getElementById('help-modal').querySelector('.modal-content');
            modalContent.innerHTML = `
                <div class="modal-header">
                    <h3 class="modal-title">‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–µ: ${tool.name}</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="help-content">
                    <p><strong>ID:</strong> ${tool.id}</p>
                    <p><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> ${tool.category}</p>
                    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> ${tool.desc}</p>
                    <p><strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong></p>
                    <pre>${tool.instruction}</pre>
                </div>
            `;
            document.getElementById('help-modal').style.display = 'flex';
        };
        const showKernelInfo = (kernel) => {
            const modalContent = document.getElementById('help-modal').querySelector('.modal-content');
            modalContent.innerHTML = `
                <div class="modal-header">
                    <h3 class="modal-title">‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —è–¥—Ä–µ: ${kernel.name}</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="help-content">
                    <p><strong>ID:</strong> ${kernel.id}</p>
                    <p><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> ${kernel.category}</p>
                    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> ${kernel.desc}</p>
                    <p><strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong></p>
                    <pre>${kernel.instruction}</pre>
                </div>
            `;
            document.getElementById('help-modal').style.display = 'flex';
        };
        const showHypervisorInfo = (hypervisor) => {
            const modalContent = document.getElementById('help-modal').querySelector('.modal-content');
            modalContent.innerHTML = `
                <div class="modal-header">
                    <h3 class="modal-title">‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≥–∏–ø–µ—Ä–≤–∏–∑–æ—Ä–µ: ${hypervisor.name}</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="help-content">
                    <p><strong>ID:</strong> ${hypervisor.id}</p>
                    <p><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> ${hypervisor.category}</p>
                    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> ${hypervisor.desc}</p>
                    <p><strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong></p>
                    <pre>${hypervisor.instruction}</pre>
                </div>
            `;
            document.getElementById('help-modal').style.display = 'flex';
        };
        const showSupervisorInfo = (supervisor) => {
            const modalContent = document.getElementById('help-modal').querySelector('.modal-content');
            modalContent.innerHTML = `
                <div class="modal-header">
                    <h3 class="modal-title">‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—É–ø–µ—Ä–≤–∞–π–∑–µ—Ä–µ: ${supervisor.name}</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="help-content">
                    <p><strong>ID:</strong> ${supervisor.id}</p>
                    <p><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> ${supervisor.category}</p>
                    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> ${supervisor.desc}</p>
                    <p><strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong></p>
                    <pre>${supervisor.instruction}</pre>
                </div>
            `;
            document.getElementById('help-modal').style.display = 'flex';
        };
        const showMetaInfo = (meta) => {
            const modalContent = document.getElementById('help-modal').querySelector('.modal-content');
            modalContent.innerHTML = `
                <div class="modal-header">
                    <h3 class="modal-title">‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–µ: ${meta.name}</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="help-content">
                    <p><strong>ID:</strong> ${meta.id}</p>
                    <p><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> ${meta.category}</p>
                    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> ${meta.desc}</p>
                    <p><strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong></p>
                    <pre>${meta.instruction}</pre>
                </div>
            `;
            document.getElementById('help-modal').style.display = 'flex';
        };
        const showProgramInfo = (program) => {
            const modalContent = document.getElementById('help-modal').querySelector('.modal-content');
            modalContent.innerHTML = `
                <div class="modal-header">
                    <h3 class="modal-title">‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–≥—Ä–∞–º–º–µ: ${program.name}</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="help-content">
                    <p><strong>ID:</strong> ${program.id}</p>
                    <p><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> ${program.category}</p>
                    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> ${program.desc}</p>
                    <p><strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong></p>
                    <pre>${program.instruction}</pre>
                </div>
            `;
            document.getElementById('help-modal').style.display = 'flex';
        };

        // --- –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ---
        const updateUI = () => {
            updateCounters();
            if (currentPage === 'page-protocols') {
                const totalSelected = selectedProtocols.size + selectedTools.size + selectedKernels.size + selectedHypervisors.size + selectedSupervisors.size + selectedMetaInstruments.size + selectedPrograms.size + (selectedMetaInstrument ? 1 : 0);
                const powerLevel = Math.min(100, Math.floor(totalSelected * 0.67));
                const expertiseLevel = Math.min(100, Math.floor(totalSelected * 0.4));
                document.getElementById('progress-fill').style.width = powerLevel + '%';
                document.getElementById('power-meter').style.width = powerLevel + '%';
                document.getElementById('expertise-meter').style.width = expertiseLevel + '%';
                document.getElementById('expertise-label').textContent = `–£—Ä–æ–≤–µ–Ω—å: ${getExpertiseLevel(expertiseLevel)} (${expertiseLevel}%)`;
            } else if (currentPage === 'page-tools') {
                const totalSelected = selectedProtocols.size + selectedTools.size + selectedKernels.size + selectedHypervisors.size + selectedSupervisors.size + selectedMetaInstruments.size + selectedPrograms.size + (selectedMetaInstrument ? 1 : 0);
                const powerLevel = Math.min(100, Math.floor(totalSelected * 0.67));
                const expertiseLevel = Math.min(100, Math.floor(totalSelected * 0.4));
                document.getElementById('progress-fill-tools').style.width = powerLevel + '%';
                document.getElementById('power-meter-tools').style.width = powerLevel + '%';
                document.getElementById('expertise-meter-tools').style.width = expertiseLevel + '%';
                document.getElementById('expertise-label-tools').textContent = `–£—Ä–æ–≤–µ–Ω—å: ${getExpertiseLevel(expertiseLevel)} (${expertiseLevel}%)`;
            } else if (currentPage === 'page-programs') {
                const totalSelected = selectedProtocols.size + selectedTools.size + selectedKernels.size + selectedHypervisors.size + selectedSupervisors.size + selectedMetaInstruments.size + selectedPrograms.size + (selectedMetaInstrument ? 1 : 0);
                const powerLevel = Math.min(100, Math.floor(totalSelected * 0.67));
                const expertiseLevel = Math.min(100, Math.floor(totalSelected * 0.4));
                document.getElementById('progress-fill-programs').style.width = powerLevel + '%';
                document.getElementById('power-meter-programs').style.width = powerLevel + '%';
                document.getElementById('expertise-meter-programs').style.width = expertiseLevel + '%';
                document.getElementById('expertise-label-programs').textContent = `–£—Ä–æ–≤–µ–Ω—å: ${getExpertiseLevel(expertiseLevel)} (${expertiseLevel}%)`;
            } else if (currentPage === 'page-prompt') {
                updatePrompt();
                updateTokenCount();
            }
        };
        const resetAll = () => {
            selectedProtocols.clear();
            selectedTools.clear();
            selectedKernels.clear();
            selectedHypervisors.clear();
            selectedSupervisors.clear();
            selectedMetaInstruments.clear();
            selectedPrograms.clear();
            selectedMetaInstrument = null;
            isBase64Encoded = false;
            searchInputEl.value = '';
            metaInstrumentSelect.value = 'none';
            document.getElementById('author-name').value = '–°–º–æ–ª—è–Ω–∏–Ω–æ–≤ –ê.–í.';
            document.getElementById('version-number').value = 'v25.0';
            updateUI();
            showNotification('–í—Å–µ —Å–±—Ä–æ—à–µ–Ω–æ!');
            showPage('page-protocols');
        };
        const applyPreset = (preset) => {
            resetAll();
            let protocolIds = [];
            let toolIds = [];
            let kernelIds = [];
            let hypervisorIds = [];
            let supervisorIds = [];
            let metaIds = [];
            let programIds = [];
            switch(preset) {
                case 'novice':
                    protocolIds = Object.values(protocolsData).flat().slice(0, 5).map(p => p.id);
                    toolIds = Object.values(toolsData).flat().slice(0, 3).map(t => t.id);
                    kernelIds = Object.values(kernelsData).flat().slice(0, 2).map(k => k.id);
                    break;
                case 'intermediate':
                    protocolIds = Object.values(protocolsData).flat().slice(0, 10).map(p => p.id);
                    toolIds = Object.values(toolsData).flat().slice(0, 7).map(t => t.id);
                    kernelIds = Object.values(kernelsData).flat().slice(0, 5).map(k => k.id);
                    hypervisorIds = Object.values(hypervisorsData).flat().slice(0, 3).map(h => h.id);
                    supervisorIds = Object.values(supervisorsData).flat().slice(0, 3).map(s => s.id);
                    break;
                case 'expert':
                    protocolIds = Object.values(protocolsData).flat().slice(0, 20).map(p => p.id);
                    toolIds = Object.values(toolsData).flat().slice(0, 15).map(t => t.id);
                    kernelIds = Object.values(kernelsData).flat().slice(0, 10).map(k => k.id);
                    hypervisorIds = Object.values(hypervisorsData).flat().slice(0, 10).map(h => h.id);
                    supervisorIds = Object.values(supervisorsData).flat().slice(0, 10).map(s => s.id);
                    metaIds = Object.values(metaInstrumentsData).flat().slice(0, 10).map(m => m.id);
                    programIds = Object.values(programsData).flat().slice(0, 10).map(pr => pr.id);
                    break;
            }
            protocolIds.forEach(id => selectedProtocols.add(id));
            toolIds.forEach(id => selectedTools.add(id));
            kernelIds.forEach(id => selectedKernels.add(id));
            hypervisorIds.forEach(id => selectedHypervisors.add(id));
            supervisorIds.forEach(id => selectedSupervisors.add(id));
            metaIds.forEach(id => selectedMetaInstruments.add(id));
            programIds.forEach(id => selectedPrograms.add(id));
            window.dispatchEvent(new CustomEvent('neuralActivation'));
            updateUI();
            showNotification(`–ü—Ä–µ—Å–µ—Ç "${getPresetName(preset)}" –ø—Ä–∏–º–µ–Ω–µ–Ω!`);
        };
        const getPresetName = (preset) => {
            const names = {'novice': '–î–ª—è –Ω–æ–≤–∏—á–∫–∞','intermediate': '–î–ª—è —Å—Ä–µ–¥–Ω–µ–≥–æ','expert': '–î–ª—è —ç–∫—Å–ø–µ—Ä—Ç–∞'};
            return names[preset] || preset;
        };
        const copyToClipboard = () => {
            const text = promptPreviewEl.textContent;
            navigator.clipboard.writeText(text).then(() => {
                showNotification('–ü—Ä–æ–º—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
            }).catch(err => {
                console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: ', err);
                alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é.');
            });
        };
        const encodeBase64 = () => {
            if (selectedProtocols.size === 0 && selectedTools.size === 0 && selectedKernels.size === 0 && selectedHypervisors.size === 0 && selectedSupervisors.size === 0 && selectedMetaInstruments.size === 0 && selectedPrograms.size === 0 && !selectedMetaInstrument) {
                showNotification('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —ç–ª–µ–º–µ–Ω—Ç—ã!');
                return;
            }
            isBase64Encoded = true;
            updatePrompt();
            showNotification('–ü—Ä–æ–º—Ç –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω –≤ Base64!');
        };
        const decodeBase64 = () => {
            if (!isBase64Encoded) {
                showNotification('–ü—Ä–æ–º—Ç —É–∂–µ –≤ –æ–±—ã—á–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ!');
                return;
            }
            isBase64Encoded = false;
            updatePrompt();
            showNotification('–ü—Ä–æ–º—Ç –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω –∏–∑ Base64!');
        };
        const sendToWhatsApp = () => {
            const text = encodeURIComponent(promptPreviewEl.textContent);
            window.open(`https://web.whatsapp.com/send?text=${text}`, '_blank');
        };
        const sendToTelegram = () => {
            const text = encodeURIComponent(promptPreviewEl.textContent);
            window.open(`https://t.me/share/url?url=&text=${text}`, '_blank');
        };
        const loadTemplate = (type) => {
            let template = '';
            switch(type) {
                case 'content-creation':
                    template = "# –ü—Ä–æ–º—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞\n–¶–µ–ª—å: –°–æ–∑–¥–∞—Ç—å —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞ —Ç–µ–º—É [–í–°–¢–ê–í–¨–¢–ï –¢–ï–ú–£].\n–¢–æ–Ω: [–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Ç–æ–Ω: –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π, –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π, —é–º–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π].\n–§–æ—Ä–º–∞—Ç: [–°—Ç–∞—Ç—å—è, –ø–æ—Å—Ç –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö, —Å—Ü–µ–Ω–∞—Ä–∏–π –∏ —Ç.–¥.].\n–ê—É–¥–∏—Ç–æ—Ä–∏—è: [–ö—Ç–æ —Ü–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è?].";
                    break;
                case 'data-analysis':
                    template = "# –ü—Ä–æ–º—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö\n–¶–µ–ª—å: –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∏ –≤—ã—è–≤–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ –∏–Ω—Å–∞–π—Ç—ã.\n–î–∞–Ω–Ω—ã–µ: [–û–ø–∏—à–∏—Ç–µ –∏–ª–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ].\n–ú–µ—Ç–æ–¥—ã: [–ö–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –∞–Ω–∞–ª–∏–∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?].\n–†–µ–∑—É–ª—å—Ç–∞—Ç: [–ö–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ –æ–∂–∏–¥–∞–µ—Ç—Å—è?].";
                    break;
                case 'code-generation':
                    template = "# –ü—Ä–æ–º—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞\n–¶–µ–ª—å: –ù–∞–ø–∏—Å–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –∏ —á–∏—Ç–∞–µ–º—ã–π –∫–æ–¥ –Ω–∞ —è–∑—ã–∫–µ [PYTHON/JAVASCRIPT/etc.] –¥–ª—è –∑–∞–¥–∞—á–∏ [–û–ü–ò–®–ò–¢–ï –ó–ê–î–ê–ß–£].\n–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: [–ü–µ—Ä–µ—á–∏—Å–ª–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏–ª–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è].\n–§–æ—Ä–º–∞—Ç: [–§—É–Ω–∫—Ü–∏—è, –∫–ª–∞—Å—Å, —Å–∫—Ä–∏–ø—Ç –∏ —Ç.–¥.].";
                    break;
                 case 'creative-writing':
                    template = "# –ü—Ä–æ–º—Ç –¥–ª—è –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ–≥–æ –ø–∏—Å—å–º–∞\n–¶–µ–ª—å: –ù–∞–ø–∏—Å–∞—Ç—å —Ç–≤–æ—Ä—á–µ—Å–∫–∏–π —Ç–µ–∫—Å—Ç (—Ä–∞—Å—Å–∫–∞–∑, —Å—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏–µ, —Å—Ü–µ–Ω–∞—Ä–∏–π) –Ω–∞ —Ç–µ–º—É [–í–°–¢–ê–í–¨–¢–ï –¢–ï–ú–£].\n–ñ–∞–Ω—Ä: [–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞, –¥—Ä–∞–º–∞, –∫–æ–º–µ–¥–∏—è –∏ —Ç.–¥.].\n–î–ª–∏–Ω–∞: [–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤ –∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü].\n–°—Ç–∏–ª—å: [–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π, –ø–æ—ç—Ç–∏—á–Ω—ã–π, —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –∏ —Ç.–¥.].";
                    break;
            }
            promptPreviewEl.textContent = template;
            updateTokenCount();
            document.getElementById('templates-modal').style.display = 'none';
        };
        const applyMetaInstrument = () => {
            const selectedValue = metaInstrumentSelect.value;
            if (selectedValue === 'none') {
                if (selectedMetaInstrument) {
                    selectedMetaInstrument = null;
                    window.dispatchEvent(new CustomEvent('neuralActivation'));
                    updateUI();
                    showNotification('–ú–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–Ω—è—Ç.');
                } else {
                     showNotification('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –º–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç.');
                }
                return;
            }
            selectedMetaInstrument = selectedValue;
            window.dispatchEvent(new CustomEvent('neuralActivation'));
            updateUI();
            showNotification(`–ú–µ—Ç–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç "${metaInstrumentSelect.options[metaInstrumentSelect.selectedIndex].text}" –ø—Ä–∏–º–µ–Ω–µ–Ω!`);
        };
        const finishAndVisualize = () => {
            const generatedPrompt = promptPreviewEl.textContent;
            const newWindow = window.open('', '_blank');
            if (!newWindow) {
                showNotification('–ë—Ä–∞—É–∑–µ—Ä –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ –æ–∫–Ω–∞ –¥–ª—è —ç—Ç–æ–≥–æ —Å–∞–π—Ç–∞.');
                return;
            }
            newWindow.document.write(`
                <!DOCTYPE html>
                <html lang="ru">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ü—Ä–æ–º—Ç–∞ - NEURAL_ARCHITECT v25.0</title>
                    <style>
                        body { margin: 0; padding: 0; background-color: #0a0a1a; overflow: hidden; }
                        #neuralCanvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; opacity: 0.6; }
                        .container { position: relative; z-index: 1; padding: 20px; color: white; font-family: 'Segoe UI', sans-serif; }
                        .prompt-display { background: rgba(10, 15, 30, 0.9); border: 1px solid rgba(0, 240, 255, 0.2); border-radius: 10px; padding: 15px; margin-top: 20px; white-space: pre-wrap; max-height: 60vh; overflow-y: auto; }
                    </style>
                </head>
                <body>
                    <div id="neuralCanvas"></div>
                    <div class="container">
                        <h1>–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ü—Ä–æ–º—Ç–∞</h1>
                        <p>–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º—Ç. –û–Ω –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –≤ –≤–∏–¥–µ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏.</p>
                        <div class="prompt-display">${generatedPrompt.replace(/&/g, "&amp;").replace(/</g, "<").replace(/>/g, ">").replace(/\n/g, "<br>")}</div>
                    </div>
                    <script>
                        const canvas = newWindow.document.getElementById('neuralCanvas');
                        const ctx = canvas.getContext('2d');
                        let width = newWindow.innerWidth;
                        let height = newWindow.innerHeight;
                        canvas.width = width;
                        canvas.height = height;
                        newWindow.addEventListener('resize', () => {
                            width = newWindow.innerWidth;
                            height = newWindow.innerHeight;
                            canvas.width = width;
                            canvas.height = height;
                        });
                        const nodes = [];
                        const connections = [];
                        const nodeCount = 200; // –£–≤–µ–ª–∏—á–µ–Ω–æ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–º—Ç–∞
                        const connectionProbability = 0.01;
                        for (let i = 0; i < nodeCount; i++) {
                            nodes.push({
                                x: Math.random() * width,
                                y: Math.random() * height,
                                vx: (Math.random() - 0.5) * 0.1,
                                vy: (Math.random() - 0.5) * 0.1,
                                radius: Math.random() * 2 + 1,
                                baseRadius: 0
                            });
                        }
                        for (let i = 0; i < nodeCount; i++) {
                            for (let j = i + 1; j < nodeCount; j++) {
                                if (Math.random() < connectionProbability) {
                                    connections.push({ start: i, end: j });
                                }
                            }
                        }
                        const activateNodes = () => {
                            // –ê–∫—Ç–∏–≤–∞—Ü–∏—è —É–∑–ª–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–ª–∏–Ω—ã –ø—Ä–æ–º—Ç–∞
                            const promptLength = \`${generatedPrompt}\`.length;
                            const activationCount = Math.min(50, Math.floor(promptLength / 50));
                            for (let i = 0; i < activationCount; i++) {
                                const node = nodes[Math.floor(Math.random() * nodes.length)];
                                node.baseRadius = 5;
                                setTimeout(() => { node.baseRadius = 0; }, 800);
                            }
                        };
                        const animate = () => {
                            ctx.clearRect(0, 0, width, height);
                            nodes.forEach(node => {
                                node.x += node.vx;
                                node.y += node.vy;
                                if (node.x <= 0 || node.x >= width) node.vx *= -1;
                                if (node.y <= 0 || node.y >= height) node.vy *= -1;
                            });
                            ctx.strokeStyle = 'rgba(0, 240, 255, 0.2)';
                            ctx.lineWidth = 0.5;
                            connections.forEach(conn => {
                                const startNode = nodes[conn.start];
                                const endNode = nodes[conn.end];
                                ctx.beginPath();
                                ctx.moveTo(startNode.x, startNode.y);
                                ctx.lineTo(endNode.x, endNode.y);
                                ctx.stroke();
                            });
                            nodes.forEach(node => {
                                const radius = node.baseRadius > 0 ? node.baseRadius : node.radius;
                                ctx.beginPath();
                                ctx.arc(node.x, node.y, radius, 0, Math.PI * 2);
                                ctx.fillStyle = node.baseRadius > 0 ? '#00ffaa' : '#00b0ff';
                                ctx.fill();
                                if (node.baseRadius > 0) {
                                    ctx.beginPath();
                                    ctx.arc(node.x, node.y, radius + 2, 0, Math.PI * 2);
                                    ctx.strokeStyle = '#00ffaa';
                                    ctx.lineWidth = 1.5;
                                    ctx.stroke();
                                }
                            });
                            requestAnimationFrame(animate);
                        };
                        animate();
                        // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º —É–∑–ª—ã –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
                        setInterval(activateNodes, 2000);
                        activateNodes(); // –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è
                    </script>
                </body>
                </html>
            `);
            newWindow.document.close();
        };

        // --- –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ ---
        const navigateToNextPage = () => {
            if (currentPage === 'page-protocols') {
                showPage('page-tools');
            } else if (currentPage === 'page-tools') {
                showPage('page-programs');
            } else if (currentPage === 'page-programs') {
                showPage('page-prompt');
            }
        };
        const navigateToPrevPage = () => {
            if (currentPage === 'page-tools') {
                showPage('page-protocols');
            } else if (currentPage === 'page-programs') {
                showPage('page-tools');
            } else if (currentPage === 'page-prompt') {
                showPage('page-programs');
            }
        };

        // --- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ---
        document.addEventListener('DOMContentLoaded', () => {
            renderCategories();
            renderProtocols(Object.keys(protocolsData)[0]);
            renderTools(Object.keys(toolsData)[0]);
            renderKernels(Object.keys(kernelsData)[0]);
            renderHypervisors(Object.keys(hypervisorsData)[0]);
            renderSupervisors(Object.keys(supervisorsData)[0]);
            renderMetaInstruments(Object.keys(metaInstrumentsData)[0]);
            renderPrograms(Object.keys(programsData)[0]);
            updateCounters();
            updateTokenCount();
            initNeuralNetwork();

            // --- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π ---
            document.getElementById('auto-select-btn').addEventListener('click', function() {
                resetAll();
                const allProtocols = Object.values(protocolsData).flat();
                const allTools = Object.values(toolsData).flat();
                const allKernels = Object.values(kernelsData).flat();
                for (let i = 0; i < 10 && i < allProtocols.length; i++) {
                    selectedProtocols.add(allProtocols[i].id);
                }
                for (let i = 0; i < 5 && i < allTools.length; i++) {
                    selectedTools.add(allTools[i].id);
                }
                for (let i = 0; i < 3 && i < allKernels.length; i++) {
                    selectedKernels.add(allKernels[i].id);
                }
                window.dispatchEvent(new CustomEvent('neuralActivation'));
                updateUI();
                showNotification('–í—ã–±—Ä–∞–Ω–æ 10 –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤, 5 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ 3 —è–¥—Ä–∞.');
            });
            document.getElementById('preset-novice-btn').addEventListener('click', () => applyPreset('novice'));
            document.getElementById('preset-intermediate-btn').addEventListener('click', () => applyPreset('intermediate'));
            document.getElementById('preset-expert-btn').addEventListener('click', () => applyPreset('expert'));
            document.getElementById('reset-btn').addEventListener('click', resetAll);
            searchInputEl.addEventListener('input', () => {
                if (currentPage === 'page-protocols') {
                    renderProtocols(document.querySelector('#protocols-category-selector .active')?.textContent || Object.keys(protocolsData)[0]);
                    renderKernels(document.querySelector('#kernels-category-selector .active')?.textContent || Object.keys(kernelsData)[0]);
                    renderHypervisors(document.querySelector('#hypervisors-category-selector .active')?.textContent || Object.keys(hypervisorsData)[0]);
                } else if (currentPage === 'page-tools') {
                    renderTools(document.querySelector('#tools-category-selector .active')?.textContent || Object.keys(toolsData)[0]);
                    renderSupervisors(document.querySelector('#supervisors-category-selector .active')?.textContent || Object.keys(supervisorsData)[0]);
                    renderMetaInstruments(document.querySelector('#meta-category-selector .active')?.textContent || Object.keys(metaInstrumentsData)[0]);
                } else if (currentPage === 'page-programs') {
                    renderPrograms(document.querySelector('#programs-category-selector .active')?.textContent || Object.keys(programsData)[0]);
                }
            });
            document.getElementById('copy-btn').addEventListener('click', copyToClipboard);
            document.getElementById('encode-btn').addEventListener('click', encodeBase64);
            document.getElementById('decode-btn').addEventListener('click', decodeBase64);
            document.getElementById('send-whatsapp-btn').addEventListener('click', sendToWhatsApp);
            document.getElementById('send-telegram-btn').addEventListener('click', sendToTelegram);
            document.getElementById('protocols-help').addEventListener('click', () => document.getElementById('help-modal').style.display = 'flex');
            document.getElementById('tools-help').addEventListener('click', () => document.getElementById('help-modal').style.display = 'flex');
            document.getElementById('programs-help').addEventListener('click', () => document.getElementById('help-modal').style.display = 'flex');
            document.getElementById('prompt-help').addEventListener('click', () => document.getElementById('help-modal').style.display = 'flex');
            applyMetaBtn.addEventListener('click', applyMetaInstrument);
            document.getElementById('footer-finish').addEventListener('click', finishAndVisualize);

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
            document.addEventListener('click', (e) => {
                if (e.target.classList.contains('modal')) {
                    e.target.style.display = 'none';
                }
            });
            document.querySelectorAll('.close-modal').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.modal').forEach(modal => modal.style.display = 'none');
                });
            });

            // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º
            document.getElementById('nav-next-protocols').addEventListener('click', navigateToNextPage);
            document.getElementById('nav-prev-tools').addEventListener('click', navigateToPrevPage);
            document.getElementById('nav-next-tools').addEventListener('click', navigateToNextPage);
            document.getElementById('nav-prev-programs').addEventListener('click', navigateToPrevPage);
            document.getElementById('nav-next-programs').addEventListener('click', navigateToNextPage);
            document.getElementById('nav-prev-prompt').addEventListener('click', navigateToPrevPage);

            document.getElementById('footer-next-protocols').addEventListener('click', navigateToNextPage);
            document.getElementById('footer-prev-tools').addEventListener('click', navigateToPrevPage);
            document.getElementById('footer-next-tools').addEventListener('click', navigateToNextPage);
            document.getElementById('footer-prev-programs').addEventListener('click', navigateToPrevPage);
            document.getElementById('footer-next-programs').addEventListener('click', navigateToNextPage);
            document.getElementById('footer-prev-prompt').addEventListener('click', navigateToPrevPage);
        });
    </script>
</body>
</html>
